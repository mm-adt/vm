<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Marko A. Rodriguez [creator] (RReduX)">
<meta name="copyright" content="2020">
<link rel="icon" type="image/x-icon" href="./images/favicon.ico">
<title>mm-ADT: The Virtual Machine</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link href="https://codegena.com/assets/css/image-preview-for-link.css" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="images/css-additions.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://codegena.com/assets/js/image-preview-for-link.js"></script>
<script type="text/javascript" src="images/syntax-highlighter.js"></script>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>mm-ADT: The Virtual Machine</h1>
<div class="details">
<span id="author" class="author">Marko A. Rodriguez [creator] (RReduX)</span><br>
<span id="revdate">Ryan Wisnesky [advisor] (Conexus)</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_virtual_machine_components">Virtual Machine Components</a>
<ul class="sectlevel2">
<li><a href="#_mm_adt_theory">mm-ADT Theory</a>
<ul class="sectlevel3">
<li><a href="#_mm_adt_function">mm-ADT Function</a></li>
<li><a href="#_mm_adt_algebras">mm-ADT Algebras</a></li>
</ul>
</li>
<li><a href="#_mm_adt_technology">mm-ADT Technology</a>
<ul class="sectlevel3">
<li><a href="#_mm_adt_console">mm-ADT Console</a></li>
<li><a href="#_mmlang_syntax_and_semantics">mmlang Syntax and Semantics</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_the_type">The Type</a>
<ul class="sectlevel2">
<li><a href="#_types_and_values">Types and Values</a></li>
<li><a href="#_type_structure">Type Structure</a>
<ul class="sectlevel3">
<li><a href="#_type_components">Type Components</a>
<ul class="sectlevel4">
<li><a href="#_type_signature">Type Signature</a></li>
<li><a href="#_type_definition">Type Definition</a></li>
<li><a href="#_type_quantification">Type Quantification</a></li>
<li><a href="#_type_evaluation">Type Evaluation</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_type_system">Type System</a>
<ul class="sectlevel3">
<li><a href="#_anonymous_types">Anonymous Types</a></li>
<li><a href="#_mono_types">Mono Types</a></li>
<li><a href="#_poly_types">Poly Types</a>
<ul class="sectlevel4">
<li><a href="#_poly_collections">Poly Collections</a></li>
<li><a href="#_poly_controls">Poly Controls</a></li>
<li><a href="#_poly_lifting">Poly Lifting</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_the_obj_graph">The Obj Graph</a>
<ul class="sectlevel2">
<li><a href="#_state">State</a>
<ul class="sectlevel3">
<li><a href="#_variables">Variables</a></li>
<li><a href="#_definitions">Definitions</a></li>
</ul>
</li>
<li><a href="#_models">Models</a>
<ul class="sectlevel3">
<li><a href="#_constructors">Constructors</a></li>
<li><a href="#_type_paths">Type Paths</a></li>
<li><a href="#_stream_paths">Stream Paths</a></li>
<li><a href="#_higher_order_paths">Higher Order Paths</a></li>
<li><a href="#_type_patterns">Type Patterns</a>
<ul class="sectlevel4">
<li><a href="#_refinement_types">Refinement Types</a></li>
<li><a href="#_dependent_types">Dependent Types</a></li>
<li><a href="#_recursive_types">Recursive Types</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_reference">Reference</a>
<ul class="sectlevel2">
<li><a href="#_mmlang_grammar">mmlang Grammar</a></li>
<li><a href="#_instructions">Instructions</a>
<ul class="sectlevel3">
<li><a href="#_branch_instructions">Branch Instructions</a></li>
<li><a href="#_filter_instructions">Filter Instructions</a></li>
<li><a href="#_map_instructions">Map Instructions</a></li>
<li><a href="#_reduce_instructions">Reduce Instructions</a></li>
<li><a href="#_trace_instructions">Trace Instructions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock left">
<div class="content">
<img src="./images/introduction/mm-adt-logo.png" alt="mm-ADT Logo" width="150">
</div>
</div>
<div class="paragraph">
<p><a href="http://mm-adt.org">mm-ADT</a> is a dual licensed <a href="https://www.gnu.org/licenses/agpl-3.0.txt">AGPL3</a>/commercial open source project that offers software engineers, computer scientists, mathematicians, and others in the software industry a royalty-based OSS model.
The Turing Complete mm-ADT virtual machine (VM) integrates disparate data technologies via algebraic composition, yielding <em>synthetic data systems</em> that have the requisite computational power and expressivity for the problems they were designed to solve.
As an economic model, each integration point offers the respective development team access to the revenue streams generated by any for-profit organization leveraging mm-ADT.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_virtual_machine_components">Virtual Machine Components</h2>
<div class="sectionbody">
<div class="imageblock right">
<div class="content">
<img src="./images/introduction/diag-f9bcfd96975e3103c088523d50854fca.png" alt="diag f9bcfd96975e3103c088523d50854fca" width="380" height="294">
</div>
</div>
<div class="paragraph">
<p>The mm-ADT VM integrates the following data processing technologies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Programming Languages</strong>: Language designers can create custom languages or develop parsers for existing languages that compile to mm-ADT VM assembly code (<code>mmlang</code>) or bytecode (binary encoding of <code>mmlang</code>).</p>
</li>
<li>
<p><strong>Processing Engines</strong>: Processor developers can enable their push- or pull-based execution engines to be programmed by any mm-ADT language. The abstract processing model supports single-machine, multi-threaded, agent-based, distributed near-time, and/or cluster-oriented, batch-analytic processors.</p>
</li>
<li>
<p><strong>Storage Systems</strong>: Storage engineers can expose their systems via <em>model-ADTs</em> expressed in mm-ADT&#8217;s dependent type system that enable the lossless encoding of key/value store, document store, wide-column store, graph store, relational store, and other novel or hybrid structures such as hypergraph, docu-graph, and quantum data structures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The mm-ADT VM enables the intermingling of any language, any processor, and any storage system that can faithfully implement the core language semantics (<em>types and values</em>), processor semantics (<em>instruction set architecture</em>), and/or storage semantics (<em>data structure streams</em>).</p>
</div>
<div class="sect2">
<h3 id="_mm_adt_theory">mm-ADT Theory</h3>
<div class="sect3">
<h4 id="_mm_adt_function">mm-ADT Function</h4>
<div class="paragraph">
<p>Every mm-ADT program denotes a single <a href="https://en.wikipedia.org/wiki/Unary_function">unary function</a> that maps an <code>obj</code> of type \$S\$ (start) to an <code>obj</code> of type \$E\$ (end) with the function signature</p>
</div>
<div class="paragraph">
<p>\[
f: S \rightarrow E.
\]</p>
</div>
<div class="paragraph">
<p>The complexities of mm-ADT are realized in the definition of an <code>obj</code> (which includes both types and values) and the internal structure of an \$f\$-program (which is a composition of nested <a href="https://en.wikipedia.org/wiki/Currying">curried</a> functions). The sole purpose of this documentation is to make salient the various algebraic structures that are operationalized to ultimately yield the mapping \$f : S \rightarrow E\$.</p>
</div>
</div>
<div class="sect3">
<h4 id="_mm_adt_algebras">mm-ADT Algebras</h4>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>There are two operations: addition (\$ +\$) and multiplication (\$\ast\$). <a href="https://en.wikipedia.org/wiki/Abstract_algebra">Abstract algebra</a> is the study of these two operations across a wide range of slightly different generalized <a href="https://en.wikipedia.org/wiki/Algebraic_structure">structures</a> devoid of considerations regarding the particulars of their implementation: integers, digital circuits, quantum systems in a superposition, etc. Theoreticians deduce <a href="https://en.wikipedia.org/wiki/Theorem">theorems</a> based on the <a href="https://en.wikipedia.org/wiki/Axiom">axioms</a> of the structures and experimentalists apply the structural patterns to other systems, real or designed.</p>
</div>
<div class="paragraph">
<p>The pedagogical masterpiece of the discipline is the <strong>magma hiearchy</strong>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://en.wikipedia.org/wiki/Magma_%28algebra%29">Magma</a> \$(A,\ast)\$: a set \$A\$ with a potentially associative binary operator \$ast: A \times A \to A\$.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Semigroup">Semigroup</a> \$(A,\ast)\$: a magma with an associative binary operator \$(a \ast b) \ast c = a \ast (b \ast c)\$.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Monoid">Monoid</a> \$(A,\ast,\mathbf{1})\$: a semigroup with an identity element such that \$a \ast \mathbf{1} = a = \mathbf{1} \ast a\$.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Group_(mathematics)">Group</a> \$(A,\ast,\mathbf{1})\$: a monoid with ever element having an inverse such that \$a \ast a^{-1} = \mathbf{1} = a^{-1} \ast a\$.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Ring_(mathematics)">Ring</a> \$(A,+,\ast,\mathbf{0},\mathbf{1})\$: a \$ +\$-group and a \$\ast\$-monoid bound by distributivity, \$a \ast (b + c) = (a \ast b) + (a \ast c)\$.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Field_(mathematics)">Field</a> \$(A,+,\ast,\mathbf{0},\mathbf{1})\$: a ring where the \$\ast\$-monoid is a \$\ast\$-group.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Numerous <em>enrichments</em> to these structures blur the sharp lines that divide them.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://en.wikipedia.org/wiki/Commutative_property">Abelian</a> \$a \cdot b=b \cdot a\$: the binary operator is agnostic to the order of the arguments.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Idempotence">Idempotent</a> \$a \cdot a = a\$: the binary operator reaches a fixpoint on self compositions.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Free_algebra">Free</a> \$A^\ast\$: the binary operator is replaced with <em>concatenation</em> to record operation sequences, not evaluate them.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Module_(mathematics)">Module</a> \$A[x]\$: a binary magma that respects the abstract form of linear algebra via <em>scalars</em> and <em>vectors</em>.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/Polynomial_ring">Polynomial</a> \$x_1a + x_2a^2 + \ldots + x_na^n\$: a binary magma with free addition and non-free multiplication.</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>No one practitioner will ever have a complete grasp of the intricacies that bind \$ +\$ and \$\ast\$ together over \$A\$.</p>
</div>
</div>
</div>
<div class="imageblock right">
<div class="content">
<img src="./images/introduction/the-algebras.svg" alt="the algebras" width="520">
</div>
</div>
<div class="paragraph">
<p>The base algebra of mm-ADT is a type-oriented ring algebra called the <strong>obj stream ring</strong>. There are three surjective <a href="https://en.wikipedia.org/wiki/Homomorphism">homomorphisms</a> from the <code>obj</code> stream ring to the algebras of the aforementioned components.  The <strong>language algebra</strong>'s <a href="https://en.wikipedia.org/wiki/Free_monoid">free monoid</a> enables the nested, serial composition of parameterized instructions (<code>inst</code>) from the mm-ADT <a href="https://en.wikipedia.org/wiki/Instruction_set_architecture">instruction set architecture</a> and is called the <code>inst</code> monoid. The <strong>processor algebra</strong> is called the type ringoid and it is a free <a href="https://en.wikipedia.org/wiki/Polynomial_ring">polynomial ringoid</a> (<code>poly</code>) at compilation and non-free ringoid at evaluation. The <strong>storage algebra</strong> is called the <code>obj</code> monoid and it maintains a carrier set composed of all mm-ADT objects (<code>obj</code>) and an <a href="https://en.wikipedia.org/wiki/Associative_property">associative</a>, binary operator for constructing data streams.</p>
</div>
<div class="paragraph">
<p>These component algebras represent the particular perspective that each component has on a shared data structure called the <strong>obj graph</strong>. This <a href="https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)">graph</a> has a faithful encoding as a generalized <a href="https://en.wikipedia.org/wiki/Cayley_graph">Cayley graph</a> and a <a href="https://en.wikipedia.org/wiki/Commutative_diagram">commutative diagram</a>. It serves as the medium by which the virtual machine&#8217;s computations take place: from specification, to compilation and then evaluation.</p>
</div>
<table class="tableblock frame-all grid-all left" style="width: 25%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Component</th>
<th class="tableblock halign-left valign-top">Algebra</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">language</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>inst</code> monoid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">processor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code> ringoid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">storage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>obj</code> monoid</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The primary purpose of this documentation is to explain these algebras, specify their relationship to one another and demonstrate how they are manipulated by mm-ADT technologies. Data system engineers will learn how to integrate their technology so end users may compose their efforts with others' to create <em>synthetic data systems</em> tailored to a problem&#8217;s particular computational requirements.</p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="_mm_adt_technology">mm-ADT Technology</h3>
<div class="sect3">
<h4 id="_mm_adt_console">mm-ADT Console</h4>
<div class="paragraph">
<p>The mm-ADT VM provides a <a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop:">REPL</a> console for users to evaluate mm-ADT programs written in any mm-ADT language.
The reference language distributed with the VM is called <code>mmlang</code>. <code>mmlang</code> is a low-level, functional language that is in near 1-to-1 correspondence with the underlying VM architecture&#8201;&#8212;&#8201;offering it&#8217;s users <a href="https://en.wikipedia.org/wiki/Turing_completeness">Turing-Complete</a> expressivity when writing programs and an interactive teaching tool for studying the mm-ADT VM.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text">~/mm-adt bin/mmadt.sh
                                _____ _______
                           /\  |  __ |__   __|
 _ __ ___  _ __ ___ _____ /  \ | |  | | | |
| '_ ` _ \| '_ ` _ |_____/ /\ \| |  | | | |
| | | | | | | | | | |   / ____ \ |__| | | |
|_| |_| |_|_| |_| |_|  /_/    \_\____/  |_|
                                 mm-adt.org
mmlang&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>A simple console session is presented below, where the parser expects programs written in the language specified left of the <code>&gt;</code> prompt.
All the examples contained herein are presented using <code>mmlang</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 1
==&gt;1
mmlang&gt; 1+2
==&gt;3
mmlang&gt; 1[plus,2]
==&gt;3</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mmlang_syntax_and_semantics">mmlang Syntax and Semantics</h4>
<div class="paragraph">
<p>The <a href="https://en.wikipedia.org/wiki/Context-free_grammar">context-free grammar</a> for <code>mmlang</code> is presented below. Every <code>mmlang</code> expression denotes an element of the <a href="https://en.wikipedia.org/wiki/Free_algebra">free</a> <code>inst</code> monoid.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">obj   ::= (<span style="color:#369;font-weight:bold">type</span> | value)q
value ::= vbool | vint | vreal | vstr
vbool ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">true</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">false</span><span style="color:#710">'</span></span>
vint  ::= [<span style="color:#00D">1</span>-<span style="color:#00D">9</span>][<span style="color:#00D">0</span>-<span style="color:#00D">9</span>]*
vreal ::= [<span style="color:#00D">0</span>-<span style="color:#00D">9</span>]+<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">.</span><span style="color:#710">'</span></span>[<span style="color:#00D">0</span>-<span style="color:#00D">9</span>]*
vstr  ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">'</span><span style="color:#710">&quot;</span></span> [a-zA-Z]* <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">'</span><span style="color:#710">&quot;</span></span>
<span style="color:#369;font-weight:bold">type</span>  ::= ctype | dtype
ctype ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">bool</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">int</span><span style="color:#710">'</span></span>  | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">real</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">str</span><span style="color:#710">'</span></span> | poly | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">_</span><span style="color:#710">'</span></span>
poly  ::= lst | rec | inst
q     ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">{</span><span style="color:#710">'</span></span> <span style="color:#369;font-weight:bold">int</span> (<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">,</span><span style="color:#710">'</span></span> <span style="color:#369;font-weight:bold">int</span>)<span style="color:#F00;background-color:#FAA">?</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">}</span><span style="color:#710">'</span></span>
dtype ::= ctype q<span style="color:#F00;background-color:#FAA">?</span> (<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">&lt;=</span><span style="color:#710">'</span></span> ctype q<span style="color:#F00;background-color:#FAA">?</span>)<span style="color:#F00;background-color:#FAA">?</span> inst*
sep   ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">;</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">,</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">|</span><span style="color:#710">'</span></span>
lst   ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">(</span><span style="color:#710">'</span></span> obj (sep obj)* <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">)</span><span style="color:#710">'</span></span> q<span style="color:#F00;background-color:#FAA">?</span>
rec   ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">(</span><span style="color:#710">'</span></span> obj <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">-&gt;</span><span style="color:#710">'</span></span> obj (sep obj <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">-&gt;</span><span style="color:#710">'</span></span> obj)* <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">)</span><span style="color:#710">'</span></span> q<span style="color:#F00;background-color:#FAA">?</span>
inst  ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">[</span><span style="color:#710">'</span></span> op(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">,</span><span style="color:#710">'</span></span>obj)* <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">]</span><span style="color:#710">'</span></span> q<span style="color:#F00;background-color:#FAA">?</span>
op    ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">a</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">add</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">and</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">as</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">combine</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">count</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">eq</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">error</span><span style="color:#710">'</span></span> |
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">explain</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">fold</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">from</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">get</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">given</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">groupCount</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">gt</span><span style="color:#710">'</span></span> |
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">gte</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">head</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">id</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">is</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">last</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">lt</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">lte</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">map</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">merge</span><span style="color:#710">'</span></span> |
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">mult</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">neg</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">noop</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">one</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">or</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">path</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">plus</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">pow</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">put</span><span style="color:#710">'</span></span> |
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">q</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">repeat</span><span style="color:#710">'</span></span> |<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">split</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">start</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">tail</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">to</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">trace</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">type</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">zero</span><span style="color:#710">'</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_type">The Type</h2>
<div class="sectionbody">
<div class="sidebarblock">
<div class="content">
<div class="title">Products and Coproducts</div>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Category_theory">Category theory</a> is the study of structure via <a href="https://en.wikipedia.org/wiki/Morphism">morphisms</a> that expose (or generate) other structures.
Two important category theoretic concepts dealing with substructures are <strong>products</strong> and <strong>coproducts</strong>.</p>
</div>
<div class="imageblock left">
<div class="content">
<img src="./images/type/product.svg" alt="product" width="225">
</div>
</div>
<div class="paragraph">
<p>A <a href="https://en.wikipedia.org/wiki/Product_(category_theory)">product</a> is any object defined in terms of it&#8217;s accessible component objects.
That is, from a single object, via \$\pi_n\$ projection morphisms, the product is decomposed into it&#8217;s constituent parts.</p>
</div>
<div class="imageblock right">
<div class="content">
<img src="./images/type/coproduct.svg" alt="coproduct" width="225">
</div>
</div>
<div class="paragraph">
<p>A <a href="https://en.wikipedia.org/wiki/Coproduct">coproduct</a> is any object defined in terms of the component objects used to construct it.
That is, from many objects, via \$\iota_n\$ injection morphisms, a coproduct can be composed from constituent parts.</p>
</div>
<div class="paragraph">
<p>Along with these decomposition (and composition) morphisms, there exists an <a href="https://en.wikipedia.org/wiki/Isomorphism">isomorphism</a> between any two products (or coproducts) should they project (or inject) to the same component objects.
That is, product and coproduct equality are defined via component equality.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_types_and_values">Types and Values</h3>
<div class="paragraph">
<p>Everything that can be denoted in <code>mmlang</code> is an <code>obj</code>.
Within the VM and outside the referential purview of an interfacing language, every <code>obj</code> is the product of</p>
</div>
<div class="imageblock left">
<div class="content">
<img src="./images/type/obj-type-value-q.svg" alt="obj type value q" width="375">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>an <strong>object</strong> that is either a <strong>type object</strong> or a <strong>value object</strong> and</p>
</li>
<li>
<p>a <strong>quantifier</strong> specifying the "amount" of objects being denoted.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>\[
\begin{split}
\text{ } \\ \texttt{obj} &amp;= \texttt{object} &amp;\;\times\; \texttt{q}
\text{ } \\ \texttt{obj} &amp;= (\texttt{type object} + \texttt{value object}) &amp;\;\times\; \texttt{q}.
\end{split}
\]</p>
</div>
<hr>
<div class="imageblock right">
<div class="content">
<img src="./images/type/obj-type-q-value-q.svg" alt="obj type q value q" width="375">
</div>
</div>
<div class="paragraph">
<p>This internal structure is well-defined as an <a href="https://en.wikipedia.org/wiki/Ring_(mathematics)">algebraic ring</a>.
The ring axioms specify how the internals of an <code>obj</code> are related via two binary operators: \$\times\$ and \$\+\$ . One particular axiom states that products both left and right <a href="https://en.wikipedia.org/wiki/Product_(category_theory)#Distributivity">distribute</a> over coproducts.
Thus, the previous formula is equivalent to</p>
</div>
<div class="paragraph">
<p>\[
\texttt{obj} = (\texttt{type object} \times \texttt{q}) + (\texttt{value object} \times \texttt{q}).
\]</p>
</div>
<div class="paragraph">
<p>There are two distinct kinds of mm-ADT <code>objs</code>: <em>quantified type objects</em> and <em>quantified value objects</em>. These products of the <code>obj</code> coproduct are called by simpler names: <strong>type</strong> and <strong>value</strong>.
That is the <strong>obj meta-model</strong>.</p>
</div>
<div class="paragraph">
<p>\[
\texttt{obj} = \texttt{type} + \texttt{value}
\]</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There are only a few instances in which it is necessary to consider the object component of an <code>obj</code> separate from its quantifier component.
The terms <em>type</em> and <em>value</em> will always refer to the object/quantifier-pair as a whole&#8201;&#8212;&#8201;i.e., an <code>obj</code>.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int              <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;int
mmlang&gt; 1                <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;1
mmlang&gt; int{5}           <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;int{5}
mmlang&gt; 1{5}             <i class="conum" data-value="4"></i><b>(4)</b>
==&gt;1{5}
mmlang&gt; ['a','b','a']    <i class="conum" data-value="5"></i><b>(5)</b>
==&gt;'b'
==&gt;'a'{2}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A single <code>int</code> type.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A single <code>int</code> value of <code>1</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Five <code>int</code> types.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Five <code>1</code> <code>int</code> values.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>A <code>str</code> <strong>stream</strong> composed of <code>'a'</code>,<code>'b'</code>, and <code>'a'</code> (definition forthcoming).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Both types and values can be operated on by types, where each is predominately the focus of either <a href="https://en.wikipedia.org/wiki/Compiler">compilation</a> (types) or <a href="https://en.wikipedia.org/wiki/Execution_(computing)">evaluation</a> (values).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>\$ (\tt{type} \times \tt{type}) \rightarrow \tt{type} \$: Used in <a href="https://en.wikipedia.org/wiki/Compiler">compilation</a> for <a href="https://en.wikipedia.org/wiki/Type_inference">type inferencing</a> and <a href="https://en.wikipedia.org/wiki/Rewriting">type rewriting</a>, and</p>
</li>
<li>
<p>\$ (\tt{value} \times \tt{type}) \rightarrow \tt{value} \$: Used in <a href="https://en.wikipedia.org/wiki/Computer_program">program</a> <a href="https://en.wikipedia.org/wiki/Execution_(computing)">evaluation</a> and as <a href="https://en.wikipedia.org/wiki/Anonymous_function">lambda functions</a>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int =&gt; int[is,[gt,0]]                   <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;int{?}&lt;=int[is,bool&lt;=int[gt,0]]
mmlang&gt; 5 =&gt; int{?}&lt;=int[is,bool&lt;=int[gt,0]]    <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;5</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><strong>Compilation</strong>: The <code>int</code>-type is applied to the <code>int[is,[gt,0]]</code>-type to yield a <a href="https://en.wikipedia.org/wiki/Option_type"><em>maybe</em></a> <code>int{?}</code>-type.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><strong>Evaluation</strong>: The nested <code>bool&lt;=int[gt,0]</code>-type is a lamba function yielding <code>true</code> or <code>false</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Some interesting conceptual blurs arise from the intermixing of types and values.
The particulars of the ideas in the table below will be discussed over the course of the documentation.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Consequences of Type/Value Integration</caption>
<colgroup>
<col style="width: 11.7647%;">
<col style="width: 11.7647%;">
<col style="width: 76.4706%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">structure A</th>
<th class="tableblock halign-left valign-top">structure B</th>
<th class="tableblock halign-left valign-top">unification</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">program</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a program is a "complicated" type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compilation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">evaluation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">compilations are <a href="https://en.wikipedia.org/wiki/Abstract_interpretation">type evaluations</a>, where a compilation error is a "type runtime" error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">variable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">types refer to values across contexts and variables refer to values within a context.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Abstract_syntax_tree">AST</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a single <a href="https://en.wikipedia.org/wiki/Intermediate_representation">intermediate representation</a> is used in compilation, optimization, and evaluation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">function</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">functions are (<a href="https://en.wikipedia.org/wiki/Dependent_type">dependent</a>) types with values generated at evaluation.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">state</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">trace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">types and values both encode state information in their process traces.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">classical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quantum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">quantum computing is classical computing with a unitary matrix quantifier ring.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_type_structure">Type Structure</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">Cayley Graphs</div>
<div class="imageblock right">
<div class="content">
<img src="./images/type/compass.svg" alt="compass" width="300">
</div>
</div>
<div class="paragraph">
<p>A <a href="https://en.wikipedia.org/wiki/Cayley_graph">Cayley graph</a> is a graphical encoding of a <a href="https://en.wikipedia.org/wiki/Group_(mathematics)">group</a>. If \$(A, \cdot, I)\$ is a group with carrier set \$A\$, binary operator \$\cdot : (A \times A) \to A\$, and <a href="https://en.wikipedia.org/wiki/Generating_set_of_a_group">generating set</a> \$I \subseteq A\$ then the <a href="https://en.wikipedia.org/wiki/Graph_(discrete_mathematics)">graph</a> \$G = (V,E)\$ with vertices \$V = A\$ and labeled edges \$E = A \times I \times A\$ is the Cayley graph of the group. The directed edge \$(a,i,b) \in E\$ written \$a \to_i b\$ states that the vertices \$a,b \in A\$ are connected by an edge labeled with the element \$i \in I\$. Thus, \$a \to_i b\$ captures the group operation \$a \cdot i = b\$.</p>
</div>
<div class="paragraph">
<p>When constructed in <a href="https://en.wikipedia.org/wiki/Eager_evaluation">full</a>, a Cayley graph&#8217;s vertices are the group elements and its edges represent the set of all possible \$I\$-transitions between elements. When <a href="https://en.wikipedia.org/wiki/Lazy_evaluation">lazily</a> constructed, a Cayley graph encodes the history of a group computation, where the current element has an incoming \$I\$-edge from the previous element. A Cayley graph captures both the proto-<a href="https://en.wikipedia.org/wiki/Free_group">free</a> and non-free aspects of a group. The non-free aspect is realized by any edge \$e = (a,i,b)\$ such that \$ai \mapsto b\$ and an element of the corresponding free algebra \$(A^\ast,\ast)\$ can be constructed by concatenating the edge labels of a path \$\prod_{e \in (a,i,b)^\ast} \pi_1(e)\$.</p>
</div>
<div class="paragraph">
<p>A <em>generalized</em> Cayley graph does not require that every \$i \in I\$ have a corresponding \$i^{-1} \in I\$ such that \$i \cdot i^{-1} = \mathbf{1}\$ (i.e., multiplicative inverses).
By lifting this constraint, the Cayley graphical structure can be used to encode other <a href="https://en.wikipedia.org/wiki/Magma_(algebra)">magmas</a> such as <a href="https://en.wikipedia.org/wiki/Monoid">monoids</a> and <a href="https://en.wikipedia.org/wiki/Semigroup">semigroups</a>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>An <code>obj</code> is either a type or a value:
\[
\texttt{obj} = \texttt{type}  + \texttt{value}.
\]</p>
</div>
<div class="paragraph">
<p>That equation is not an <a href="https://en.wikipedia.org/wiki/Axiom">axiom</a>, but a <a href="https://en.wikipedia.org/wiki/Theorem">theorem</a>.
Its truth can be deduced from the equations of the full <a href="https://en.wikipedia.org/wiki/Axiomatic_system">axiomatization</a> of <code>obj</code>.
In particular, for types, they are defined relative to other types.
Types are a coproduct of either a</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>canonical type</strong> (ctype): a <a href="https://en.wikipedia.org/wiki/Primitive_data_type">base/fundamental</a> type, or a</p>
</li>
<li>
<p><strong>derived type</strong> (dtype): a product of a type and an <a href="https://en.wikipedia.org/wiki/Machine_code">instruction</a> (<code>inst</code>).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The ctypes are <a href="https://en.wikipedia.org/wiki/Nominal_type_system">nominal types</a>.
There are five ctypes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>bool</strong>: denotes the set of booleans&#8201;&#8212;&#8201;\$ \mathbb{B} \$.</p>
</li>
<li>
<p><strong>int</strong>: denotes the set of integers&#8201;&#8212;&#8201;\$ \mathbb{Z} \$.</p>
</li>
<li>
<p><strong>real</strong>: denotes the set of reals&#8201;&#8212;&#8201;\$ \mathbb{R} \$.</p>
</li>
<li>
<p><strong>str</strong>: denotes the set of character strings&#8201;&#8212;&#8201;\$ \Sigma^\ast \$.</p>
</li>
<li>
<p><strong>poly</strong>: denotes the set of free objects&#8201;&#8212;&#8201;\$ \tt{obj}^\ast \$.</p>
</li>
</ol>
</div>
<div class="imageblock right">
<div class="content">
<img src="./images/type/type-product.svg" alt="type product" width="295">
</div>
</div>
<div class="paragraph">
<p>The dtypes are <a href="https://en.wikipedia.org/wiki/Structural_type_system">structural types</a> whose <a href="https://en.wikipedia.org/wiki/Recursive_data_type">recursive definition</a>'s base case is a ctype realized via a chain of instructions (<code>inst</code>) that operate on types to yield types. In other words, instructions are the <a href="https://en.wikipedia.org/wiki/Generating_set_of_a_group">generating set</a> of a type monoid. Formally, the type coproduct is defined as</p>
</div>
<div class="paragraph">
<p>\[
\begin{split}
\texttt{type} &amp;=\;&amp; (\texttt{bool} + \texttt{int} + \texttt{real} + \texttt{str} + \texttt{poly}) + (\texttt{type} \times \texttt{inst}) \\ \texttt{type} &amp;=\;&amp; \texttt{ctype} + (\texttt{type} \times \texttt{inst}) \\ \texttt{type} &amp;=\;&amp; \texttt{ctype} + \texttt{dtype}. \end{split}
\]</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Every <code>obj</code> has an associated quantifier.
When the typographical representation of an <code>obj</code> lacks an associated quantifier, the quantifier is <a href="https://en.wikipedia.org/wiki/Unit_(ring_theory)">unity</a>.
For instance, the <code>real</code> <code>1.35{1}</code> is written more economically as <code>1.35</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A dtype has two product projections.
The <strong>type projection</strong> denotes the <a href="https://en.wikipedia.org/wiki/Domain_of_a_function">domain</a> and the <strong>instruction projection</strong> denotes the <a href="https://en.wikipedia.org/wiki/Function_(mathematics)">function</a>, where the type product as a whole, relative to the aforementioned component projections, is the <a href="https://en.wikipedia.org/wiki/Range_of_a_function">range</a>.
\[
\begin{split}
\tt{type} &amp;=\;&amp; (\tt{type} &amp;\;\times\;&amp; \tt{inst}) &amp;\;+\;&amp; \tt{ctype} \\ \text{“range} &amp;=\;&amp; (\text{domain} &amp;\;\text{and}\;&amp; \text{function}) &amp;\;\text{or}\;&amp; \text{base"} \end{split}
\]</p>
</div>
<div class="paragraph">
<p>The implication of the dtype product is that mm-ADT types are generated <a href="https://en.wikipedia.org/wiki/Inductive_type">inductively</a> by applying instructions from the mm-ADT VM&#8217;s <a href="https://en.wikipedia.org/wiki/Instruction_set_architecture">instruction set architecture</a> (<code>inst</code>). The application of an <code>inst</code> to a type (ctype or dtype) yields a dtype that is a structural expansion of the previous type.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/type/ctype-dtype.svg" alt="ctype dtype" width="300">
</div>
</div>
<div class="paragraph">
<p>For example, <code>int</code> is a ctype. When <code>int</code> is applied to the instruction <code>[is&gt;0]</code>, the dtype <code>int{?}&lt;=int[is&gt;0]</code> is formed, where <code>[is&gt;0]</code> is <a href="https://en.wikipedia.org/wiki/Syntactic_sugar">syntactic sugar</a> for <code>[is,[gt,0]]</code>. This dtype is a <a href="https://en.wikipedia.org/wiki/Refinement_type">refinement type</a> that restricts <code>int</code> to only those <code>int</code> values greater than zero&#8201;&#8212;&#8201;i.e., a natural number \$\mathbb{N}^+\$.
In terms of the "<em>range = domain and function</em>" reading, when an <code>int</code> (<strong>domain</strong>) is applied to <code>[is&gt;0]</code> (<strong>function</strong>), the result is either an <code>int</code> greater than zero or no <code>int</code> at all <code>{?}</code> (<strong>range</strong>).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/type/int-isgt0.svg" alt="int isgt0" width="230">
</div>
</div>
<div class="paragraph">
<p>The diagram above captures a fundamental structure in mm-ADT called the <strong>obj graph</strong>. The <code>obj</code> graph is used for, amongst other things, <a href="https://en.wikipedia.org/wiki/Type_system#Type_checking">type checking</a>, <a href="https://en.wikipedia.org/wiki/Type_inference">type inference</a>, <a href="https://en.wikipedia.org/wiki/Optimizing_compiler">compiler optimization</a>, and <a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">garbage collection</a>. The subgraph concerned with type definitions is called the <strong>type graph</strong>. The subgraph encoding values and their relations as a function of the types is called the <strong>value graph</strong>. The <code>obj</code> graph is also the codomain of an <a href="https://en.wikipedia.org/wiki/Embedding">embedding</a> whose domain is an <code>obj</code> ringoid called the <strong>stream ring</strong>. Both the <code>obj</code> graph and stream ring form the primary topics of study in this documentation.</p>
</div>
<div class="paragraph">
<p>The <code>obj</code> meta-model structure thus far is diagrammed on the right (with quantifiers attached to each component). On the left are some example <code>mmlang</code> expressions.</p>
</div>
<div class="imageblock right">
<div class="content">
<img src="./images/type/obj-full.svg" alt="obj full" width="300">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int                                                         <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;int
mmlang&gt; int{2}                                                      <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;int{2}
mmlang&gt; int{2}[is&gt;0]                                                <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;int{0,2}&lt;=int{2}[is,bool{2}&lt;=int{2}[gt,0]]
mmlang&gt; int{2}[is&gt;0][plus,[neg]]                                    <i class="conum" data-value="4"></i><b>(4)</b>
==&gt;int{0,2}&lt;=int{2}[is,bool{2}&lt;=int{2}[gt,0]][plus,int{0,2}[neg]]
mmlang&gt; 5{2} =&gt; int{2}[is&gt;0][plus,[neg]]                            <i class="conum" data-value="5"></i><b>(5)</b>
==&gt;0{2}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A ctype denoting a single integer.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A ctype denoting two integers.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A dtype denoting zero, one, or two integers greater than 0.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>A dtype extending the previous type with negative integer addition.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>A value of two fives applied to the previous type with the result being two 0s.</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_type_components">Type Components</h4>
<div class="paragraph">
<p>The illustration below highlights the two primary components of a type, where an edge of the Cayley graph is the triple \$e=(a,i,b) \in (\tt{type} \times \tt{i\nst} \times \tt{type})\$.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Type signature</strong>: the ctype specification of a type&#8217;s domain and range.</p>
</li>
<li>
<p><strong>Type definition</strong>: a domain rooted instruction sequence terminating at the range.</p>
</li>
</ol>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/type/type-signature-definition.svg" alt="type signature definition" width="675">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An image referred to as a <strong>diagram</strong> or commuting diagram is isomorphic to the system of equations it captures and thus, respects the axioms of the algebraic structure being diagrammed. An image referred to as an <strong>illustration</strong> is intended to elicit a realization of the associated topic via intuition and should not be considered a faithful encoding of an underlying mathematics.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_type_signature">Type Signature</h5>
<div class="paragraph">
<p>Every mm-ADT type can be generally understood as a <a href="https://en.wikipedia.org/wiki/Function_(mathematics)">function</a> that maps an <code>obj</code> of one type to an <code>obj</code> of another type. A <strong>type signature</strong> specifies the source and target of this mapping, where the <strong>domain</strong> is the source type, and the <strong>range</strong> is the target type. In <code>mmlang</code> a type signature has the following general form where <code>{q}</code> is the ctype&#8217;s associated quantifier.</p>
</div>
<table class="tableblock frame-none grid-none center" style="width: 30%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">range{q}&lt;=domain{q}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In common mathematical vernacular, if the function \$f\$ has a domain of \$X\$ and a range (codomain) of \$Y\$, then its signature is denoted \$f: X \to Y\$. Furthermore, with quantifiers in \$Q\$, the function signature would be denoted \$f: X \times Q \to Y \times Q\$ or \$f: (X \times Q) \to (Y \times Q)\$.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 37.5%;">
<col style="width: 62.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">mmlang Expression</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int&lt;=int
==&gt;int</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the perspective of "<em>type-as-function</em>," An mm-ADT <code>int</code> is a <a href="https://en.wikipedia.org/wiki/NOP_(code)">no-op</a> on the set of integers. Given any integer, <code>int</code> returns that integer. In <code>mmlang</code>, when the domain and range are the same, the <code>&lt;=</code> and repeated type are not displayed. That is <code>int&lt;=int</code> is more concisely displayed as <code>int</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{1}
==&gt;int
mmlang&gt; int
==&gt;int</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In most programming languages, a value can be typed <code>int</code> as in</p>
<p class="tableblock"><code>val x:int = 10</code>.</p>
<p class="tableblock">Such <a href="https://en.wikipedia.org/wiki/Declaration_(computer_programming)">declarations</a> state that the value referred to by <code>x</code> is a <em>single</em> element within the set of integers. The concept of a "single element" is captured in mm-ADT by the <code>obj</code> quantifier, where a <a href="https://en.wikipedia.org/wiki/Unit_(ring_theory)">unit</a> quantifier is not displayed in <code>mmlang</code>. That is, <code>int{1}</code> is more concisely displayed as <code>int</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{5}
==&gt;int{5}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int{5}</code> is a type referring to 5 integers. As a point of comparison, <code>int{1}</code> refers to a single integer with a syntax sugar of <code>int</code> in <code>mmlang</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{0,5}
==&gt;int{0,5}
mmlang&gt; int{0,5}&lt;=int{0,5}
==&gt;int{0,5}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quantifiers must be elements from a ring with unity. In the previous examples, the quantifier ring was \$(\mathbb{Z}, +,\ast)\$. In this example, the quantifier ring is \$(\mathbb{Z} \times \mathbb{Z}, +,\ast)\$, where the <a href="https://en.wikipedia.org/wiki/Algebraic_structure">carrier set</a> is the set of all pairs of integers and addition and multiplication operate pairwise,
\[
(a,b) \ast (c,d) \mapsto (a \ast c,b \ast d).
\]
The type <code>int{0,5}</code> denotes the inclusive range of 0, 1, 2, 3, 4, or 5 integers. In practice, the \$(\mathbb{Z} \times \mathbb{Z})\$ quantifier ring represents uncertainty as to the number of elements being referred to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int&lt;=bool
==&gt;int&lt;=bool
mmlang&gt; true =&gt; int&lt;=bool
language error: true is not an int</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Types that are fully specified by their type signature are canonical types (ctypes). Therefore, <code>bool&lt;=int</code> is meaningless as there are no instructions to map an <code>int</code> to a <code>bool</code>. This example is in the <code>mm</code> model-ADT, where given another model, it is possible for <code>bool&lt;=int</code> to yield a result.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_type_definition">Type Definition</h5>
<div class="sidebarblock">
<div class="content">
<div class="title">Commuting Diagrams</div>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Category_theory">Category theory</a> is a branch of abstract algebra that studies, among other things, arbitrary algebraic structures via their homomorphic <a href="https://en.wikipedia.org/wiki/Embedding">embedding</a> in a <a href="https://en.wikipedia.org/wiki/Many-sorted_logic">multi-sorted</a> monoid called a <strong>category</strong>. A category \$\mathcal{C}\$ is denoted
\[
(\mathbf{C} ,\circ ,\mathbf{1}),
\]
where \$\mathbf{C}\$ is a <a href="https://en.wikipedia.org/wiki/Family_of_sets">set-family</a> of <em>morphisms</em>, \$\circ: \mathbf{C} \times \mathbf{C} \rightarrow \mathbf{C}\$ is an associative binary morphism <em>composition</em> operator, and for every <em>identity</em> morphism \$\mathbf{1}_A \in \mathbf{1}\$, \$\mathbf{1}_A \circ \mathbf{1}_A = \mathbf{1}_A\$ denotes an <em>object</em> that is more simply written \$A\$ such that \$A \mapsto \mathbf{1}_A\$. The family set \$mathbf{C}\$ indexes <a href="https://ncatlab.org/nlab/show/hom-set">hom-sets</a> with \$\mathbf{C}(A,B)\$ denoting all morphism between objects \$A\$ and \$B\$, where \$f:A\to B \in \mathbf{C}(A,B)\$ and \$id: A \rightarrow A \cong \mathbf{1}_A \cong A\$.</p>
</div>
<div class="paragraph">
<p>Unlike classical monoids, a category&#8217;s \$\circ\$ operator is generally not <a href="https://en.wikipedia.org/wiki/Closure_(mathematics)">closed</a>. That is, there are compositions which may not be defined. It is this aspect of a category that makes it a <em>multi-sorted</em> (or typed) monoid.</p>
</div>
<div class="imageblock right">
<div class="content">
<img src="./images/type/commuting-diagram.svg" alt="commuting diagram" width="150">
</div>
</div>
<div class="paragraph">
<p>The discipline of category theory makes extensive use of a <a href="https://en.wikipedia.org/wiki/Homomorphism">homomorphism</a> from a category to a <a href="https://en.wikipedia.org/wiki/Directed_graph">directed labeled graph</a> called a <a href="https://en.wikipedia.org/wiki/Diagram_(category_theory)">diagram</a>. These diagrams realize the same underlying unitary operation of the generators of a magma within a generalized <a href="https://en.wikipedia.org/wiki/Cayley_graph">Cayley graph</a>. If \$f:A \to B\$ and \$g: B \to C\$, then there exists the morphism path
\[
A \xrightarrow{f} B \xrightarrow{g} C,
\]
which, in Cayley graph notation, is denoted \$A \to_f B \to_g C\$. An important subset of diagrams are the <a href="https://en.wikipedia.org/wiki/Commutative_diagram">commutative diagrams</a>. In a commutative diagram every morphism path starting at the same source and ending at the same destination are considered <em>equivalent</em> (with respects to equivalence in the respective algebraic structure being modeled categorically). Thus, if \$g \circ f = i \circ h\$, then it is said that the above diagram <em>commutes</em>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Types and values both have a <strong>ground</strong> that exists outside of the mm-ADT virtual machine within the hosting environment (e.g. the <a href="https://en.wikipedia.org/wiki/Java_virtual_machine">JVM</a>). The ground of the mm-ADT value <code>2</code> is the JVM primitive <code>2L</code> (a Java <code>long</code>). The ground of the mm-ADT type <code>int</code> is the JVM class <code>java.lang.Long</code>. When the instruction <code>[plus,4]</code> is applied to the mm-ADT <code>int</code> value <code>2</code>, a new mm-ADT <code>int</code> value is created whose ground is the JVM value <code>6L</code>. When <code>[plus,4]</code> is applied to the mm-ADT <code>int</code> type, a new type is created with the same <code>java.lang.Long</code> ground. Thus, the information that distinguishes <code>int</code> from <code>int[plus,4]</code> is in the reference to the instruction that was applied to <code>int</code>.</p>
</div>
<div class="paragraph">
<p>For a type, the <a href="https://en.wikipedia.org/wiki/Deterministic_finite_automaton">deterministic</a> chain of references is called the <strong>type definition</strong> and is encoded as a <a href="https://en.wikipedia.org/wiki/Path_(graph_theory)">path</a> in the <strong>type graph</strong>. For a value, the <strong>value graph</strong> encodes an analogous path called the <strong>value history</strong> (or <em>mutation history</em>). Both types and values exist in a larger graph called an <strong>obj graph</strong> such that
\[
G_{\texttt{obj}} = G_{\texttt{type}} \cup G_{\texttt{value}}.
\]
The <a href="https://en.wikipedia.org/wiki/Commutative_diagram">commutative diagram</a> below also represents the corresponding <code>obj</code> graph that is composed of two lateral paths. The top path is a value history \$(2 \to 6 \to 6)\$ and the bottom path is a type definition
\[
(\tt{int} \to \tt{int[plus,4]} \to \tt{int[plus,4][is&gt;0]}).
\]
These paths are joined by the <code>[type]</code> instruction in <code>inst</code> and serves to unite the type graph and value graph subgraphs of the <code>obj</code> graph such that
\[
\texttt{[type]}: \texttt{obj} \to \texttt{type}.
\]</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In practice, the string representation of a value is its <em>ground</em> and the string representation of a type is its <em>path</em>.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 43.75%;">
<col style="width: 56.25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 2[plus,4][is&gt;0]
==&gt;6
mmlang&gt; 2[plus,4][is&gt;0][path]
==&gt;(2;[plus,4];6;[is,true];6)
   &lt;=2[plus,4][is,true][path,(_;_)]
mmlang&gt; 2[plus,4][is&gt;0][type]
==&gt;int{?}&lt;=int[plus,4][is,bool&lt;=int[gt,0]]</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/type/type-value-path.svg" alt="type value path"></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In theory, the complete history of an mm-ADT program (from compilation to execution) is stored in the <code>obj</code> graph.
However, in practice, the mm-ADT VM removes paths once they are no longer required by the program.
This process is called <strong>path retraction</strong> and is the mm-ADT equivalent of <a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">garbage collection</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<span class="image right"><img src="./images/type/type-value-path-short.svg" alt="type value path short" width="350"></span> In the diagram above, the type vertices are elements of a <a href="https://en.wikipedia.org/wiki/Free_algebra">free algebra</a> called the <code>inst</code> monoid best understood as a <a href="https://en.wikipedia.org/wiki/Syntactic_monoid">syntactic monoid</a>. In order to present more complex <a href="https://en.wikipedia.org/wiki/Commutative_diagram">diagrams</a>, vertex labels will be shortened to the type&#8217;s canonical range type. With this convention, there is no loss of information. The full definition can be unambiguously determined by concatenating the instructions encountered on the edges of the inverted path from the current <em>range</em> vertex to the root <em>domain</em> vertex (i.e. the base canonical type of the type induction). Furthermore, <a href="https://en.wikipedia.org/wiki/Commutative_diagram#Arrow_symbols">hook-tailed</a> arrows will replace <code>[type]</code>-labeled arrows as they denote a <a href="https://en.wikipedia.org/wiki/Monomorphism">monomorphic</a> <a href="https://en.wikipedia.org/wiki/Embedding">embedding</a> known simply as an <a href="https://en.wikipedia.org/wiki/Inclusion_map">inclusion</a>. All subsequent diagrams will follow this convention.
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Deep Dive 1. The Obj Graph as a Cayley Graph and a Commutative Diagram</div>
<div class="content">
<div class="paragraph">
<p>The <code>obj</code> graph is both a generalized <a href="https://en.wikipedia.org/wiki/Cayley_graph">Cayley graph</a> of a <a href="https://en.wikipedia.org/wiki/Partial_function">partial</a> <a href="https://en.wikipedia.org/wiki/Monoid">monoid</a> and the <a href="https://en.wikipedia.org/wiki/Commutative_diagram">commutative diagram</a> (or <a href="https://en.wikipedia.org/wiki/Quiver_(mathematics)">quiver</a>) of the category composed of <code>obj</code> vertices and <code>inst</code> labeled edges. More generally, the <code>obj</code> graph is the <a href="https://en.wikipedia.org/wiki/Function_(mathematics)#Representing_a_function">graph of unary functions</a> comprising <code>inst</code>, where instructions operate on both types and values.
From compilation to evaluation, depending on the particular context, either interpretation will be leveraged.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Commutative diagram</strong>: vertices denote type/value-objects of the <code>obj</code> category with <code>inst</code> morphisms.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>obj</code> graph&#8217;s commuting property eases compile-time and runtime <a href="https://en.wikipedia.org/wiki/Graph_rewriting">type rewriting</a>.
If two paths have the same source vertex (domain) and target vertex (range), then both paths yield the same result (the target vertex).
In practice, evaluating the instructions along the <a href="https://en.wikipedia.org/wiki/Computational_complexity_theory">computationally cheaper</a> path is prudent.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/type/commuting-cayley.svg" alt="commuting cayley" width="550">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Cayley graph</strong>: vertices denote type/value-elements of the <code>inst</code> monoid with generating edges in <code>inst</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As a generalized, multi-rooted monoidal Cayley graph, the set of all possible mm-ADT computations is theoretically predetermined given the <a href="https://en.wikipedia.org/wiki/Presentation_of_a_monoid">monoid presentation</a> containing the root <code>objs</code> (e.g. the ctypes), its generators (<code>inst</code>), and relations (<a href="https://en.wikipedia.org/wiki/Equivalence_relation">path equations</a>).
This static immutable structure serves to <a href="https://en.wikipedia.org/wiki/Memoization">memoize</a> computational results.
This is especially useful when considering <strong>streams</strong> (definition forthcoming) and their role in data-intensive, cluster-oriented environments where storage is cheap and processors are costly.</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_type_quantification">Type Quantification</h5>
<div class="sidebarblock">
<div class="content">
<div class="title">Initial and Terminal Objects</div>
<div class="paragraph">
<p>A category may have an <a href="https://en.wikipedia.org/wiki/Initial_and_terminal_objects">initial and/or terminal</a> object.</p>
</div>
<hr>
<div class="imageblock left">
<div class="content">
<img src="./images/type/initial.svg" alt="initial" width="125">
</div>
</div>
<div class="paragraph">
<p>An <strong>initial object</strong> \$S\$ is the domain of a set of morphism \$S \rightarrow E_n\$.
Initial objects, via their morphisms, generate all the objects of the category.
If there is an initial object, then it is unique in that if there is another initial object, it has the same diagrammatic topology&#8201;&#8212;&#8201;all outgoing morphisms and no incoming morphisms save the identity.
Thus, besides labels, two initials are isomorphic.</p>
</div>
<hr>
<div class="imageblock right">
<div class="content">
<img src="./images/type/terminal.svg" alt="terminal" width="125">
</div>
</div>
<div class="paragraph">
<p>A <strong>terminal object</strong> \$E\$ is the range of a set of morphisms \$S_n \rightarrow E\$.
Terminal objects subsume all other objects in the category in that all other objects \$S_n\$ can be morphed into the terminal object, but the terminal object can not be morphed into any other object.
Similar to initials, should another terminal exist, the two terminal are isomorphic in that they both have the same number of incoming morphisms and no outgoing morphisms (save the identity).</p>
</div>
<div class="paragraph">
<p>&nbsp;</p>
</div>
</div>
</div>
<div class="paragraph">
<p>In order to quantify the <em>amount</em> of values denoted by a type, every mm-ADT type has an associated <strong>quantifier</strong> \$q \in Q\$ written <code>{q}</code> in <code>mmlang</code>, where \$Q\$ is the carrier of an ordered algebraic <a href="https://en.wikipedia.org/wiki/Ring_(mathematics)">ring with unity</a> (e.g. integers \$\mathbb{Z}\$, reals in \$ \mathbb{R}, \mathbb{R}^2, \mathbb{R}^3, \ldots, \mathbb{R}^n \$, <a href="https://en.wikipedia.org/wiki/Unitary_matrix">unitary matrices</a>, etc.).</p>
</div>
<table class="tableblock frame-none grid-none right" style="width: 35%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; [[5,6,7],[7,5]{-1}]
==&gt;6</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Typically, integer quantifiers signify "amount." However, other quantifiers such as unitary matrices used in the representation of a <a href="https://en.wikipedia.org/wiki/Wave_function">quantum wave function</a>, "amount" is a less accurate description as <code>objs</code> interact with constructive and destructive <a href="https://en.wikipedia.org/wiki/Wave_interference">interference</a>. Even in \$\mathbb{Z}\$, negative integers are possible and are leveraged for computing <a href="https://en.wikipedia.org/wiki/Lazy_evaluation">lazy</a> <a href="https://en.wikipedia.org/wiki/Set_(mathematics)">set</a> operations as demonstrated by <a href="https://en.wikipedia.org/wiki/Intersection_(set_theory)">intersection</a> in the associated example.</p>
</div>
<div class="paragraph">
<p>The default <strong>quantifier ring</strong> of the mm-ADT VM is
\[
(\mathbb{Z} \times \mathbb{Z}, +, \ast),
\]
where \$(0,0)\$ is the additive identity and \$(1,1)\$ is the multiplicative identity (<a href="https://en.wikipedia.org/wiki/Unit_(ring_theory)">unity</a>). The \$ +\$ and \$\ast\$ binary operators perform pairwise integer addition and multiplication, respectively. In <code>mmlang</code> if an <code>obj</code> quantifier is not displayed, then the quantifier is assumed to be the unity of the ring, or <code>{1,1}</code> in this case. Moreover, if a single value is provided, it is assumed to be repeated, where <code>{n}</code> is shorthand for <code>{n,n}</code>. Thus,</p>
</div>
<table class="tableblock frame-none grid-none right" style="width: 30%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; {0}[start,6]
mmlang&gt; 6[is&gt;7]
mmlang&gt; 6[is&gt;8]
mmlang&gt; 6[is&gt;9]</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>\[
\texttt{int} \equiv \texttt{int{1}} \equiv \texttt{int\{1,1\}}.
\]</p>
</div>
<div class="paragraph">
<p>One particular quantifier of every ring serves an important role in mm-ADT as both the additive identity and multiplicative <a href="https://en.wikipedia.org/wiki/Annihilator_(ring_theory)">annihilator</a>&#8201;&#8212;&#8201;<code>{0}</code>.
All <code>objs</code> quantified with the respective quantifier ring&#8217;s annihilator are non-terminal <a href="https://en.wikipedia.org/wiki/Initial_and_terminal_objects">initial</a> objects as exemplified in the adjoining example.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<table class="tableblock frame-none grid-none right" style="width: 35%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 6{0}
mmlang&gt; int{0}[plus,2]
mmlang&gt; int[plus,2]{0}
mmlang&gt; _{0}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Types such as <code>int{0}</code> and <code>int{0}&lt;=int[is,false]</code> are equivalent due to their quantifiers both being <code>{0}</code>.
Throughout the documentation, all zero quantified <code>objs</code> will be referred to as <code>_{0}</code>, <code>{0}</code>, or \$\mathbf{0}\$ (the <strong>zero object</strong>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Quantifiers serve an important role in <a href="https://en.wikipedia.org/wiki/Type_inference">type inference</a> and determining, at compile time, the expected cost of a particular type definition (i.e., an instruction sequence). The table below itemizes common quantifier patterns that have a corresponding construction in other programming languages.</p>
</div>
<table class="tableblock frame-all grid-all center" style="width: 80%;">
<colgroup>
<col style="width: 6.6666%;">
<col style="width: 6.6666%;">
<col style="width: 6.6666%;">
<col style="width: 20%;">
<col style="width: 60.0002%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">name</th>
<th class="tableblock halign-left valign-top">sugar</th>
<th class="tableblock halign-left valign-top">unsugared</th>
<th class="tableblock halign-left valign-top">description</th>
<th class="tableblock halign-left valign-top">mmlang example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">some</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{1,1}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">a single <code>int</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int
==&gt;int</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">option</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{?}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{0,1}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or 1 <code>int</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{?}&lt;=int[is&gt;0]
==&gt;int{?}&lt;=int[is,bool&lt;=int[gt,0]]</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">none</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{0}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{0,0}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 <code>ints</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{0}&lt;=int[is,false]
mmlang&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">exact</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{4}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{4,4}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 <code>ints</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{4}&lt;=int{2}[_,_]
==&gt;int{4}&lt;=int{2}[id]{2}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">any</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{*}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{0,max}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 or more <code>ints</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{*}&lt;=rec{*}[get,'age',int]
==&gt;int{*}&lt;=rec{*}[get,'age',int]</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">given</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{+}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>{1,max}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 or more <code>ints</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{+}
==&gt;int{+}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Types use quantifiers in two separate, but related, contexts: <strong>type signatures</strong> and <strong>type definitions</strong>.</p>
</div>
<h6 id="_type_signature_quantification" class="discrete">Type Signature Quantification</h6>
<div class="paragraph">
<p>A type signature&#8217;s <strong>domain</strong> specifies the type and quantity of the <code>obj</code> required for evaluation. The <strong>range</strong> denotes what can be expected in return. <code>int{6}&lt;=int{3}</code> states that given <code>3</code> <code>ints</code>, the type will return <code>6</code> <code>ints</code>.
Quantifiers in a type signature are descriptive, used in <a href="https://en.wikipedia.org/wiki/Type_system#Static_type_checking">type checking</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 4 =&gt; int{6}&lt;=int{3}[[plus,1],[plus,1]]
language error: int is not an int{3}
mmlang&gt; 4{3} =&gt; int{6}&lt;=int{3}[[plus,1],[plus,1]]
==&gt;5{6}
mmlang&gt; [4,5,6] =&gt; int{6}&lt;=int{3}[[plus,1],[plus,1]]
==&gt;5{2}
==&gt;6{2}
==&gt;7{2}
mmlang&gt; [4{2},5{1},6{2}] =&gt; int{6}&lt;=int{3}[[plus,1],[plus,1]]
language error: int{5} is not an int{3}
mmlang&gt; [4{2},5{-1},6{2}] =&gt; int{6}&lt;=int{3}[[plus,1],[plus,1]]
==&gt;5{4}
==&gt;6{-2}
==&gt;7{4}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Much will be said about negative quantifiers.
For now, note that negative quantifiers enable <a href="https://en.wikipedia.org/wiki/Lazy_evaluation">lazy</a>, stream-based <a href="https://en.wikipedia.org/wiki/Set_theory">set theoretic</a> operations such as intersection, union, difference, etc.
Extending beyond integer quantification \$(\mathbb{Z})\$, negative quantifiers enable constructive and destructive interference in <a href="https://en.wikipedia.org/wiki/Quantum_computing">quantum computating</a> \$(\mathbb{C})\$ and excitatory and inhibitory activations in <a href="https://en.wikipedia.org/wiki/Artificial_neural_network">neural computing</a> \$(\mathbb{R})\$.</p>
</div>
<h6 id="_type_definition_quantification" class="discrete">Type Definition Quantification</h6>
<div class="paragraph">
<p>A type definition&#8217;s <strong>instructions</strong> can be quantified. More specifically, a type&#8217;s intermediate dtypes can be quantified.
During <a href="https://en.wikipedia.org/wiki/Type_inference">type inference</a>, the quantifier ring&#8217;s \$(+\$/\$\ast)\$-operators propagate the quantifiers through the types that compose the program.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{3}[[plus,1],[plus,1]]              <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;int{6}&lt;=int{3}[plus,1]{2}
mmlang&gt; int{3}[plus,1]{2}                      <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;int{6}&lt;=int{3}[plus,1]{2}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Given <code>3</code> <code>ints</code>, <code>[plus,1]</code> will be evaluated (in parallel) twice. The result is <code>6</code> <code>ints</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The instruction <code>[plus,1]{2}</code> is the merging of two <code>[plus,1]</code> <em>branches</em>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>At <a href="https://en.wikipedia.org/wiki/Compiler#Middle_end">type compilation</a>, the <a href="https://en.wikipedia.org/wiki/Branch_(computer_science)">branch</a> optimizer "collapses" <em>type object</em> equivalent branches with no effect to the result.
The branches' <em>type quantifiers</em> are added using the quantifier ring&#8217;s \$+\$-operator (the quantifier group).
Once collapsed, quantifiers can be moved left-or-right using the quantifier ring&#8217;s multiplicative \$\ast\$-operator due to the <em>commutativity of quantifiers theorem</em> (the quantifier monoid). It is more efficient (especially as branches grow in complexity) to compute, for example, \$2b\$ than \$b + b\$. The example below demonstrates how type quantifiers are "collapsed" with \$ +\$ and "slid" left (or right) with \$\ast\$.</p>
</div>
<table class="tableblock frame-none grid-none center" style="width: 65%;">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock">\[
\begin{split}
a(b+b)c &amp;= a(2b)c \\
&amp;= a2bc   \\
&amp;= 2abc
\end{split}
\]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/type/branch-q-addition.svg" alt="branch q addition" width="500"></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following two examples highlight the fact that type signature quantifiers are used for <a href="https://en.wikipedia.org/wiki/Type_system#Static_type_checking">type checking</a> and type definition quantifiers are used for <a href="https://en.wikipedia.org/wiki/Type_inference">type inference</a>. The algebra of quantification will be explained in much more detail later when discussing the ring algebra of mm-ADT.</p>
</div>
<table class="tableblock frame-all grid-all center" style="width: 80%;">
<colgroup>
<col style="width: 66.6666%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 4{3} =&gt; [[plus,1],[plus,1]]
==&gt;5{6}
mmlang&gt; 4{3} =&gt; int{6}&lt;=int{3}[[plus,1],[plus,1]]
==&gt;5{6}
mmlang&gt; 4{2} =&gt; int{6}&lt;=int{3}[[plus,1],[plus,1]]
language error: int{2} is not an int{3}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
\begin{split}
\texttt{int{q}}
&amp;= 3 \ast (1 + 1) \\
&amp;= (3 \ast 1) + (3 \ast 1) \\
&amp;= 3 + 3 \\
&amp;= 6
\end{split}
\]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 4{3} =&gt; [plus,1]{2}
==&gt;5{6}
mmlang&gt; 4{3} =&gt; int{6}&lt;=int{3}[plus,1]{2}
==&gt;5{6}
mmlang&gt; 4{2} =&gt; int{6}&lt;=int{3}[plus,1]{2}
language error: int{2} is not an int{3}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
\begin{split}
\texttt{int{q}}
&amp;= 3 \ast 2 \\
&amp;= 6
\end{split}
\]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_type_evaluation">Type Evaluation</h5>
<table class="tableblock frame-none grid-none right" style="width: 20%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
\big[ m_0 \ast m_1 \ast \ldots \ast m_n \big]
\begin{bmatrix}
g_0  \\ + \\ g_1 \\ + \\ \vdots \\ + \\ g_n
\end{bmatrix} \left| \oplus r \right\rangle
\big[ \ast \ldots \ast \big]
\begin{bmatrix}
+ \\ \vdots \\ + \\
\end{bmatrix} \ldots
\]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The mm-ADT virtual machine has two distinct algebraic layers: the <a href="https://en.wikipedia.org/wiki/Instruction_set_architecture">instruction set architecture</a> and the <a href="https://zenodo.org/record/2565243">stream ring</a>. The instructions (<code>inst</code>) specify how input <code>objs</code> are mapped to output <code>objs</code> and has a graphical realization as a generalized Cayley graph and/or a commuting diagram. The <code>inst</code> algebra is evaluated by the processor-oriented <a href="https://zenodo.org/record/2565243">stream ring</a> algebra. A stream ring has three operators for constructing types: \$\ast\$, \$ +\$, and \$\oplus\$, where the first two are the classic ring operators and the last is particular to a stream ring. The stream ring&#8217;s multiplicative <a href="https://en.wikipedia.org/wiki/Monoid">monoid&#8217;s</a> \$\ast\$-operator concatenates <strong>serial streams</strong>, the additive <a href="https://en.wikipedia.org/wiki/Abelian_group">abelian group&#8217;s</a> \$ +\$-operator composes <strong>parallel streams</strong>, and the stream <a href="https://en.wikipedia.org/wiki/Near-ring">near-ring&#8217;s</a> non-commutative group&#8217;s \$\oplus\$-operator <a href="https://en.wikipedia.org/wiki/Fold_(higher-order_function)">reduces</a> streams down to a <strong>singleton stream</strong>.</p>
</div>
<table class="tableblock frame-all grid-all left" style="width: 20%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">op</th>
<th class="tableblock halign-left valign-top">inst</th>
<th class="tableblock halign-center valign-top">sugar</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$\ast\$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[juxt]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>=&gt;</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$ +\$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[branch]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>=[</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$ \oplus\$</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[barrier]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>=|</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The illustration above is an intuitive visualization of an mm-ADT type from the perspective of monoidal, group, and near-ring magmas interacting with one another in a series (\$\ast\$) of expansions (\$ +\$) and contractions (\$ \oplus\$), where \$m_i,g_i,r \in \tt{obj}\$. These three stream operators have a corresponding realization in <code>inst</code> as <a href="https://en.wikipedia.org/wiki/Higher-order_function">higher-order instructions</a>. It is through these instructions that the other instructions are grounded in the underlying stream ring algebra of the mm-ADT VM.</p>
</div>
<hr>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 4 =&gt; int[mult,2] =&gt; str[plus,'0'] =&gt; real
==&gt;80.0
mmlang&gt; 4 =&gt; int[mult,2] =[ str[plus,'0'],str[plus,'.1']] =&gt; real
==&gt;80.0
==&gt;8.1
mmlang&gt; 4 =&gt; int[mult,2] =[ str[plus,'0'],str[plus,'.1']] =&gt; real =| [plus,x]
==&gt;88.1{2}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The last example above makes use of all three stream operators. A decomposition of the expression is provided below.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 6.25%;">
<col style="width: 18.75%;">
<col style="width: 31.25%;">
<col style="width: 25%;">
<col style="width: 18.75%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">type</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4 =&gt; int[mult,2]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>=[str[plus,'0'],str[plus,'.1']]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>=&gt; real</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>=|[plus,x]</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">d/r</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>int&lt;=int</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>str{2}&lt;=int</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>real{2}&lt;=str{2}</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>real&lt;=real{2}</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">value</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4=&gt;8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8=&gt;['80','8.1']</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>['80','8.1']=&gt;[80.0,8.1]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[80.0,8.1]=&gt;88.1</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">q</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>{1}=&gt;{1}</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>{1}=&gt;{2}</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>{2}=&gt;{2}</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>{2}=&gt;{1}</code></p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">op</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$ast\$ monoid</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$+\$ abelian group</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$\ast\$ monoid</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$\oplus\$ group</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">term</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock">series</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">expansion</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">series</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">contraction</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Finally, below is the unsugar&#8217;d form of the disectected type from above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 4[juxt,int[mult,2]][branch,(str[plus,'0'],str[plus,'.1'])][as,real][barrier,[plus,x]]
==&gt;88.1</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_type_system">Type System</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">Constructive Type Theory</div>
<div class="paragraph">
<p>Classical <a href="https://en.wikipedia.org/wiki/Type_theory">type theory</a> associates <strong>types</strong> with <strong>sets</strong>, where the type \$A\$ denotes a <a href="https://en.wikipedia.org/wiki/Set_theory">set</a> containing all the elements of the type. The validity of the type assignment \$a:A\$ is determined via set membership of whether \$a \in A\$. This interpretation of a type implies that all elements exist in some <a href="https://en.wikipedia.org/wiki/Platonic_idealism">Platonic world</a> (as types can have an infinite number of elements). <a href="https://en.wikipedia.org/wiki/Intuitionistic_type_theory">Constructive type theory</a>, on the other hand, realizes types as <em>generators</em> of their elements, where a type&#8217;s definition specifies the rules for constructing objects of that type. Constructions imply <a href="https://en.wikipedia.org/wiki/Function_(mathematics)">functions</a> as opposed to sets.</p>
</div>
<div class="paragraph">
<p>mm-ADT&#8217;s type theory is a constructive type theory. mm-ADT types are not sets, but instead are functions that generate objects of the type (<strong>range</strong>) from objects of another type (<strong>domain</strong>). Thus, the determination of whether \$a\$ is typed \$A\$ is a determination of whether the function \$A(a)\$ is defined at \$a\$. Such determinations are called <em>evaluations</em>.</p>
</div>
<div class="paragraph">
<p>The table below itemizes the <a href="https://en.wikipedia.org/wiki/Intuitionistic_type_theory#Judgements">judgements</a> of Martin-Löf type theory (a constructive type theory) alongside mm-ADT&#8217;s corresponding construct.</p>
</div>
<table class="tableblock frame-all grid-all center" style="width: 65%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Judgement</th>
<th class="tableblock halign-center valign-top">Martin-Löf type</th>
<th class="tableblock halign-center valign-top">mm-ADT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type declaration</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$A\$ Type</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>A</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type assignment</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$a:A\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>A:a</code> or <code>a=&gt;A</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type equality</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$A = B\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>B&lt;=A</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type dependency</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$(x:A)B\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>B&lt;=A</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type substitution</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$B[x//a]\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>a=&gt;B</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\$\Sigma\$ type (coproduct)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$A \times B\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>(A;B)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\$\Pi\$ type (product)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$A \to B\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>B&lt;=A</code></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><strong>Type Dependency and \$Pi\$ Types</strong>: The structure of an mm-ADT type maintains both the type&#8217;s signature (<code>B&lt;=A</code>) and the type&#8217;s definition <code>[f]</code>). The form of a typical type dependency is <code>B&lt;=A[f]</code>, where a <code>B</code> is <em>constructed</em> from an <code>A</code> by applying instruction <code>[f]</code>. In standard mathematical notation, <code>B&lt;=A[f]</code> is denoted \$f: A \to B\$ which is the named version of the \$Pi\$ type \$A \to B\$ and therefore, a type dependency and a \$\Pi\$ type are the same construct in mm-ADT.</p>
</li>
<li>
<p><strong>Type Equality</strong>: Note that type equality, dependency and \$Pi\$ all have the same form in mm-ADT. However, while type equality is a type dependency and a \$\Pi\$ type, every type dependency and \$\Pi\$ type is not a type equality. The type <code>B&lt;=A[f]</code> is not a type equality. The type equality \$A=B\$ is an <a href="https://en.wikipedia.org/wiki/Identity_function">identity function</a> <code>B&lt;=A[noop]</code>, where a <code>B</code> is realized by doing nothing to an <code>A</code>. The type <code>B&lt;=A[noop]</code> is more succinctly written <code>B&lt;=A</code> and thus, <code>B</code> is not <em>constructed</em> from <code>A</code>, but is <em>equivalent</em> to <code>A</code> and every <code>A</code> can be typed <code>B</code> as is.</p>
</li>
<li>
<p><strong>\$\Sigma\$ Types</strong>: Contrary to their presentation in the table above, \$Sigma\$ types are more general than standard <a href="https://en.wikipedia.org/wiki/Product_(category_theory)">products</a>. \$Sigma\$ types are <em>dependent products</em>. As an example, the "ascending pair" \$\Sigma\$ type is defined
\[
\texttt{apair} = \sum_{m:\mathbb{Z}} \sum_{n:\mathbb{Z}} m&lt;n,
\]
where the two integers \$m,n \in \mathbb{Z}\$ are the components of the product and \$m\$ is smaller than \$n\$ (\$m &lt; n\$). This definition specifies a relation between the components of the product (i.e., a dependence) that must be satisfied by every object of this type. In <code>mmlang</code>, \$\tt{apair}\$ is written</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all center" style="width: 40%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">apair&lt;=(int:m;int:n)[is,m&lt;n]</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,mm]
         [define,apair&lt;=(int:m;int:n)[is,m&lt;n]]
==&gt;_[define,apair&lt;=(int&lt;m&gt;;int&lt;n&gt;)[is,bool&lt;=(int&lt;m&gt;;int&lt;n&gt;)&lt;.m&gt;[lt,n]]]
mmlang&gt; (1;2)   =&gt; apair
==&gt;apair:(1;2)
mmlang&gt; (2;1)   =&gt; apair
language error: (2;1) is not an apair
mmlang&gt; (1;2;3) =&gt; apair
language error: (1;2;3) is not an apair
mmlang&gt; 1       =&gt; apair
language error: 1 is not an apair</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>mm-ADT&#8217;s <a href="https://en.wikipedia.org/wiki/Type_system">type system</a> is founded on 3 classes of ctypes: <strong>anonymous</strong>, <strong>mono</strong>, and <strong>poly</strong> types. Within the <code>mono</code> and <code>poly</code> types, further subdivisions exist. These foundational types are the building blocks by which all other types are constructed using the ring operators of mm-ADT&#8217;s <a href="https://zenodo.org/record/2565243">stream ring algebra</a>. At the limit, an mm-ADT program is best understood as a "complex" type.</p>
</div>
<div class="sect3">
<h4 id="_anonymous_types">Anonymous Types</h4>
<div class="paragraph">
<p>The type <code>bool&lt;=int[gt,10]</code> has a <strong>range</strong> of <code>bool</code> and a <strong>domain</strong> of <code>int</code>. When the type is written without it&#8217;s range as <code>int[gt,10]</code>, the range is deduced. The <code>int</code> domain ctype is applied to <code>[gt,10]</code> to yield a <code>bool</code>. A type with an unspecified range is called an an <strong>anonymous type</strong> and is denoted <code>_</code> in <code>mmlang</code> (or with no character in many situations). An anonymous range is the result of an anonymous domain.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><code>_</code> range</th>
<th class="tableblock halign-center valign-top"><code>_</code> domain</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; bool&lt;=int[gt,10]      <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;bool&lt;=int[gt,10]
mmlang&gt; _&lt;=int[gt,10]         <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;bool&lt;=int[gt,10]
mmlang&gt; int[gt,10]            <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;bool&lt;=int[gt,10]
mmlang&gt; _
==&gt;_</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The domain and range of the type are fully specified.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A type with a specified domain of <code>int</code> and a specified range of <code>_</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>An <code>mmlang</code> sugar where if no range is specified, and it differs from the domain, then <code>_</code> is assumed.</td>
</tr>
</table>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{?}&lt;=int[is,bool&lt;=int[gt,10]]     <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;int{?}&lt;=int[is,bool&lt;=int[gt,10]]
mmlang&gt; int[is,int[gt,10]]                   <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;int{?}&lt;=int[is,bool&lt;=int[gt,10]]
mmlang&gt; int[is,_[gt,10]]                     <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;int{?}&lt;=int[is,bool&lt;=int[gt,10]]
mmlang&gt; int[is,[gt,10]]                      <i class="conum" data-value="4"></i><b>(4)</b>
==&gt;int{?}&lt;=int[is,bool&lt;=int[gt,10]]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The domain and range of the outer and inner nested type are fully specified.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The nested type has a specified domain of <code>int</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The nested type has an unspecified domain of <code>_</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>An <code>mmlang</code> sugar where if no domain is specified, <code>_</code> is assumed.</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">In the <strong>anonymous type</strong> <code>_{2}[plus,1]{3}[gt,0]</code>, the <code>[plus]</code> instruction is <a href="https://en.wikipedia.org/wiki/Polymorphism_(computer_science)">polymorphic</a>, but <code>[gt]</code> isn&#8217;t. Thus, the anonymous type&#8217;s range can be deduced, but without a domain ctype, the internal dtype is also unknown. When <code>int{2}</code> is provided, it triggers a cascade of deductions that determines incident types of the instructions in the <code>obj</code> graph. The quantifier ring, when moving "horizontally" across the multiplicative <code>inst</code> monoid alters quantifiers using its multiplication operator, where \$2 \ast 3 \ast 1 = 6\$. Thus, <code>bool{6}&lt;=int{2}[plus,1]{3}[gt,0]</code></p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; _{2}[plus,1]{3}[gt,0][explain]
==&gt;'
bool{6}&lt;=_{2}[plus,1]{3}[gt,0]

inst           domain       range     state
--------------------------------------------
[plus,1]{3}    _{2}    =&gt;   _{6}
[gt,0]         _{6}    =&gt;   bool{6}
'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{2}[plus,1]{3}[gt,0][explain]
==&gt;'
bool{6}&lt;=int{2}[plus,1]{3}[gt,0]

inst           domain         range     state
----------------------------------------------
[plus,1]{3}    int{2}    =&gt;   int{6}
[gt,0]         int{6}    =&gt;   bool{6}
'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><span class="image"><img src="./images/type/anon-example.svg" alt="anon example" width="400"></span></p></td>
</tr>
</tbody>
</table>
<h5 id="_anonymous_type_uses" class="discrete">Anonymous Type Uses</h5>
<div class="paragraph">
<p>Anonymous types are useful in other situations besides <a href="https://en.wikipedia.org/wiki/Type_inference">lazy typing</a> expressions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 5-&lt;(_,_)                               <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;(5{2})
mmlang&gt; -5[is&gt;0 -&gt; +2 | _ -&gt; +10]              <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;5
mmlang&gt; 5-&lt;([a,int],[a,_],[a,str])             <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;(true{2},false)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>When no processing is needed on a split, <code>_</code> should be provided.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>When used in a <code>|-rec</code> <code>poly</code>, <code>_</code> is used to denote the <a href="https://en.wikipedia.org/wiki/Switch_statement">default case</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>5</code> is both an <code>int</code> and a <code>_</code>, but not a <code>str</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In general, anonymous types are <a href="https://en.wikipedia.org/wiki/Pattern_matching#Primitive_patterns">wildcards</a> because they <a href="https://en.wikipedia.org/wiki/Matching_wildcards">pattern match</a> to every <code>obj</code>. As will be demonstrated soon, when a <strong>variable</strong> is specified (e.g. <code>[plus,x]</code>) or a new type is specified (e.g. <code>x:42</code>), The <code>x</code> is a <strong>named anonymous type</strong>. The entailment of this is that types and variables are in the same <a href="https://en.wikipedia.org/wiki/Namespace">namespace</a>. Two presumably self-explanatory examples are provided below with a more detailed discussion of variables and named types forthcoming.</p>
</div>
<table class="tableblock frame-all grid-all stretch small">
<colgroup>
<col style="width: 43.75%;">
<col style="width: 56.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">variables</th>
<th class="tableblock halign-center valign-top">named types</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 1 =&gt; int[plus,2][to,x][plus,3][mult,x]
==&gt;18
mmlang&gt; int[plus,2][to,x][plus,3][mult,x][explain]
==&gt;'
int[plus,2]&lt;x&gt;[plus,3][mult,x]

inst        domain      range state
------------------------------------
[plus,2]    int    =&gt;   int
[plus,3]    int    =&gt;   int    x-&gt;int
[mult,x]    int    =&gt;   int    x-&gt;int
'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 1 =&gt; int[define,x&lt;=int[plus,2]][as,x]
==&gt;x:3
mmlang&gt; int[define,x&lt;=int[plus,2]][as,x][explain]
==&gt;'
x&lt;=int[define,x&lt;=int[plus,2]][as,x]

inst                       domain      range state
---------------------------------------------------
[define,x&lt;=int[plus,2]]    int    =&gt;   int    x-&gt;x&lt;=int[plus,2]
 [plus,2]                   int   =&gt;    int   x-&gt;x&lt;=int[plus,2]
[as,x]                     int    =&gt;   x      x-&gt;x&lt;=int[plus,2]
'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_mono_types">Mono Types</h4>
<table class="tableblock frame-all grid-all right" style="width: 40%;">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 57.1428%;">
<col style="width: 14.2857%;">
<col style="width: 14.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">type</th>
<th class="tableblock halign-left valign-top">inst</th>
<th class="tableblock halign-left valign-top">0</th>
<th class="tableblock halign-left valign-top">1</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bool</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&amp;&amp;</code> <code>||</code> <code>-</code> <code>!</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>false</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>int</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code> <code>+</code> <code>-</code> <code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>=&lt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>real</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code> <code>+</code> <code>-</code> <code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>=&lt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0.0</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>str</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code> <code>&gt;</code> <code>&lt;</code> <code>&gt;=</code> <code>=&lt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>''</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The mm-ADT type system can be partitioned into <strong>mono types</strong> (<a href="https://en.wikipedia.org/wiki/Monomial">monomials</a>) and <strong>poly types</strong> (<a href="https://en.wikipedia.org/wiki/Polynomial">polynomials</a>). There are 4 mono types, each denoting a classical <a href="https://en.wikipedia.org/wiki/Primitive_data_type">primtive</a> data type: <code>bool</code>, <code>int</code>, <code>real</code>, and <code>str</code>. The associated table presents the typical operators (<a href="https://en.wikipedia.org/wiki/Syntactic_sugar">sugared</a> instructions) that can be applied to each mono type. The table also includes their respective additive \$(\mathbf{0})\$ and multiplicative \$(\mathbf{1})\$ <a href="https://en.wikipedia.org/wiki/Identity_element">identities</a>.</p>
</div>
<div class="paragraph">
<p>A few of the more interesting aspects of the mono types are detailed in the following subsections.</p>
</div>
<h5 id="_zero_and_one" class="discrete">Zero and One</h5>
<div class="paragraph">
<p>The instructions <code>[zero]</code> and <code>[one]</code> are <a href="https://en.wikipedia.org/wiki/Constant_function">constant</a> polymorphic instructions. Each provides a unique singleton value associated with the type of the respective incoming <code>obj</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (true;6;5.5;'ryan')=([zero];[zero];[zero];[zero])
==&gt;(false;0;0.0;'')
mmlang&gt; (true;6;5.5)=([one];[one];[one])
==&gt;(true;1;1.0)
mmlang&gt; 'ryan'[one]
language error: 'ryan' is not supported by [one]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each type&#8217;s \$\mathbf{0}\$ and \$\mathbf{1}\$ value serves as the <code>[plus]</code> and <code>[mult]</code> instruction identities, respectively. Furthermore, for those types that form a <a href="https://en.wikipedia.org/wiki/Ring_(mathematics)">ring with unity</a>, the <code>[zero]</code> is their respective multiplicative <a href="https://en.wikipedia.org/wiki/Annihilator_(ring_theory)">annihilator</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (true,6,5.5,'ryan')&gt;-_[plus,[zero]]
==&gt;true
==&gt;6
==&gt;5.5
==&gt;'ryan'
mmlang&gt; (true,6,5.5)&gt;-_[mult,[one]]
==&gt;true
==&gt;6
==&gt;5.5
mmlang&gt; (true,6,5.5)&gt;-_[mult,[zero]]
==&gt;false
==&gt;0
==&gt;0.0</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_poly_types">Poly Types</h4>
<div class="paragraph">
<p>A <code>poly</code> is a <a href="https://en.wikipedia.org/wiki/Free_object">free object</a>. Free objects are <a href="https://en.wikipedia.org/wiki/Universal_algebra">universal</a> structures in that they respect the equations of an abstract algebra, but not the equations of an instance of the abstract algebra. Hence the term <em>free</em> as in "free" from constraint of the concrete&#8212;&#8203;i.e., universal. Examples of these two classes of equations are provided in the table below. If the concrete algebra equations appear random, it is because they are. Each concrete algebra&#8217;s operator(s) map elements-to-elements in a manner specific to an application domain and as such, are not <em>universal</em> equations.</p>
</div>
<table class="tableblock frame-all grid-all center" style="width: 75%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-center valign-top">abstract algebra equations</th>
<th class="tableblock halign-center valign-top">concrete algebra equations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Identity_element">identity</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$a \cdot \mathbf{1} = a\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$a \cdot b = b\$</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Inverse_element">inverses</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$a \cdot a^{-1} = \mathbf{1}\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$a \cdot b^{-1} = \mathbf{1} \$</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Associative_property">associativity</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$a \cdot (b \cdot c) = (a \cdot b) \cdot c\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$(a \cdot b) \cdot c = b \cdot c\$</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Commutative_property">commutativity</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$a \cdot b = b \cdot a\$</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\$a \cdot a = a\$</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In mm-ADT, a <code>poly</code> can be used as a <a href="https://en.wikipedia.org/wiki/Collection_%28abstract_data_type%29"><strong>collection</strong></a> data structure, where the collection&#8217;s semantics are tied to the operator(s) of the free object&#8217;s abstract algebra. Moreover, type-based <code>polys</code> offer data flow <a href="https://en.wikipedia.org/wiki/Control_flow"><strong>control</strong></a> semantics. The mm-ADT <code>poly</code> is a versatile structure because it is agnostic to the types and values contained therein while remaining in <a href="https://en.wikipedia.org/wiki/Isomorphism">one-to-one correspondence</a> with the <a href="https://zenodo.org/record/2565243">stream ring algebra</a>'s operators' axioms and entailed theorems.</p>
</div>
<h5 id="_poly_structures" class="discrete">Poly Structures</h5>
<div class="paragraph">
<p>There are <strong>value</strong> <code>polys</code> and there are <strong>type</strong> <code>polys</code>. A value <code>poly</code> is composed of only value <code>objs</code> and is best understood as a <a href="https://en.wikipedia.org/wiki/Collection_%28abstract_data_type%29">collection</a> data structure. A type <code>poly</code> contains at least one type <code>obj</code> and is intuitively understood as a <a href="https://en.wikipedia.org/wiki/Control_flow">flow control</a> structure.</p>
</div>
<div class="paragraph">
<p>As a practical consideration, mm-ADT offers two kinds of <code>poly</code>: <code>lst</code> (<a href="https://en.wikipedia.org/wiki/List_(abstract_data_type)">list</a>) and <code>rec</code> (<a href="https://en.wikipedia.org/wiki/Record_%28computer_science%29">record</a>), where theoretically, <code>rec</code> is simply a <code>lst</code> with some added conveniences that make typical programming patterns easier to express. Finally, a <code>poly</code> is associated with one of three algebras: <code>,</code> (<a href="https://en.wikipedia.org/wiki/Free_abelian_group">abelian group</a>), <code>;</code> (<a href="https://en.wikipedia.org/wiki/Free_monoid">monoid</a>), or <code>|</code> (<a href="https://en.wikipedia.org/wiki/Near-ring">near-ring</a>). These algebras correspond to the magmas of mm-ADT&#8217;s <a href="https://zenodo.org/record/2565243">stream ring algebra</a>.</p>
</div>
<div class="paragraph">
<p>\[
\begin{split}
\texttt{poly} &amp;= \texttt{lst} &amp;+ \texttt{rec} \\ \texttt{poly} &amp;= (\texttt{,-lst} + \texttt{|-lst} + \texttt{;-lst}) &amp;+ (\texttt{,-rec} + \texttt{|-rec} + \texttt{;-rec}).
\end{split}
\]</p>
</div>
<hr>
<div class="paragraph">
<p><span class="image left"><img src="./images/type/poly-kinds.svg" alt="poly kinds" width="350"></span></p>
</div>
<table class="tableblock frame-all grid-all right" style="width: 50%;">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 27.2727%;">
<col style="width: 27.2727%;">
<col style="width: 27.2728%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">poly</th>
<th class="tableblock halign-center valign-top">sep</th>
<th class="tableblock halign-left valign-top">access</th>
<th class="tableblock halign-left valign-top">value</th>
<th class="tableblock halign-left valign-top">type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock"><code>lst</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>,</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Multiset">multiset</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Union_(set_theory)">union</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">last</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/List_(abstract_data_type)">list</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Method_chaining">chain</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">head</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Scalar_(mathematics)">scalar</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Null_coalescing_operator">coalesce</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle" rowspan="3"><p class="tableblock"><code>rec</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>,</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">all match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Multimap">multimap</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Method_cascading">cascade</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">last match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Associative_array">record</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Conditional_(computer_programming)">condition</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">first match</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Tuple">pair</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Switch_statement">switch</a></p></td>
</tr>
</tbody>
</table>
<hr>
<div class="exampleblock">
<div class="title">Deep Dive 2. Mathematical Notation Conventions for mm-ADT</div>
<div class="content">
<table class="tableblock frame-all grid-all right small" style="width: 20%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">mmlang</th>
<th class="tableblock halign-center valign-middle" colspan="2">mmnotation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>=&gt;</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\$\ast\$</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\[\tiny{\prod}\]</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>=[</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\$ +\$</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\[\tiny{\coprod}\]</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>=|</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\$\oplus\$</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">\[\tiny{\bigoplus}\]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>mmlang</code> notation is able to denote every possible type through the <code>obj</code> graph. That is, is can be used to define automata that can recognize every possible path through the <code>obj</code> graph. A companion notation exists separate from <code>mmlang</code> which is more aligned with the formalisms used in standard mathematical treatments of an algebraic system. This notation is called <strong>mm notation</strong>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Monoidal composition (\$\ast\$)</strong>: A non-branch serial path through the <code>obj</code> graph is expressed with the multiplicative \$\Pi\$ operator. Given sequence of types \$\mathbf{a} = [a_0,a_1,\ldots,a_n]\$, their monoidal composition is denoted
\[
\prod_{i=0}^{n} \mathbf{a}_i \;\;\;\;\text{ or }\;\;\;\; \mathbf{a}_\ast
\]
where, for the latter, it is implied that entire sequence is left-to-right composed (via fold) using the stream ring multiplicative \$\ast\$-operator. While the first representation is more verbose, it&#8217;s use will become apparent when considering intermediate operations within a monoidal composition.</p>
</li>
<li>
<p><strong>Groupoidal composition (\$+\$)</strong>: Parallel paths through the <code>obj</code> graph is denoted with the respective additive operator. Thus, given \$n\$-independent types \$\mathbf{a} = [a_0,a_1,\ldots,a_n]\$, their parallel evaluation is denoted
\[
\coprod_{i=0}^n \mathbf{a}_i \;\;\;\;\text{ or }\;\;\;\; \mathbf{a}_{ +}
\]</p>
</li>
<li>
<p><strong>Near-ring reduction (\$\oplus\$)</strong>: A path barrier is denoted with the \$\oplus\$ reduction operator. Given \$n\$-types  (serial or parallel), their reduction using using the function \$f:A^{\ast} \to B\$ is denoted
\[
\bigoplus_{i=0}^n f(\mathbf{a}_i)  \;\;\;\;\text{ or }\;\;\;\; \mathbf{a}_{\oplus f}
\]</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is important to note that the composition operator on the vector representation is portrayed bottom right. The reason being is that regular language syntax is reserved for the top right. Next, in order to apply the same \$m\$-serial types to \$n\$-parallel types the additive and multiplicative operators are used in conjunction.
\[
\begin{split}
\coprod_{i=0}^n \mathbf{a}_i \prod_{j=0}^m \mathbf{b}_j
       &amp;= (\mathbf{a}\mathbf{b}_{*})_{ +} \\
       &amp;= (a_0\mathbf{b}_{\ast} + a_1\mathbf{b}_{\ast} + \ldots + a_n\mathbf{b}_{\ast}) \\
       &amp;= (a_0 b_0 b_1 \ldots b_m) + \ldots + (a_n b_0 b_1 \ldots b_m)
\end{split}
\]
The additive/multiplicative pattern emphasizes the <a href="https://en.wikipedia.org/wiki/Monoid_ring">monoid ring</a> interpretation of mm-ADT as well as the well know ring property that every ring is isomorphic to the composition of <a href="https://en.wikipedia.org/wiki/Endomorphism_ring">endomorphisms</a> (\$ \ast \$) of the ring&#8217;s additive abelian group (\$ +\$), where each \$a_i\$ group element has applied a series of \$\mathbf{b}\$ morphisms back to the carrier set (i.e., an endomorphism).</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_poly_collections">Poly Collections</h5>
<div class="paragraph">
<p>A <code>poly</code> can be used a <a href="https://en.wikipedia.org/wiki/Collection_%28abstract_data_type%29">collection</a> data structure. There are a total of 6 sorts of collections as there are two kinds of <code>poly</code> (<code>lst</code> and <code>rec</code>) and each kind has 3 algebras (<code>,</code>,<code>;</code>,<code>|</code>).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 3.5714%;">
<col style="width: 14.2857%;">
<col style="width: 32.1428%;">
<col style="width: 3.5714%;">
<col style="width: 14.2857%;">
<col style="width: 32.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">lst</th>
<th class="tableblock halign-left valign-top">collection</th>
<th class="tableblock halign-left valign-top">mmlang example</th>
<th class="tableblock halign-center valign-top">rec</th>
<th class="tableblock halign-left valign-top">collection</th>
<th class="tableblock halign-left valign-top">mmlang example</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>,</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Abelian_group">abelian group</a><br>
<a href="https://en.wikipedia.org/wiki/Multiset">multiset</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; ('a'{?},'b','a','b')
==&gt;('a'{1,2},'b'{2})
mm&gt; ('a'{?},'b','a','b')&gt;-
==&gt;'a'{1,2}
==&gt;'b'{2}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>,</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Abelian_group">abelian group</a><br>
<a href="https://en.wikipedia.org/wiki/Multimap">multimap</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; ('a'-&gt;1,'b'-&gt;2,'a'-&gt;3)
==&gt;('a'-&gt;[1,3],'b'-&gt;2)
mm&gt; ('a'-&gt;1,'b'-&gt;2,'a'-&gt;3)&gt;-
==&gt;1
==&gt;3
==&gt;2</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>;</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Monoid">monoid</a><br>
<a href="https://en.wikipedia.org/wiki/List_(abstract_data_type)">list</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; ('a';'b';'a';'b')
==&gt;('a';'b';'a';'b')
mm&gt; ('a';'b';'a';'b')&gt;-
==&gt;'b'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>;</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Monoid">monoid</a><br>
<a href="https://en.wikipedia.org/wiki/Associative_array">record</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; ('a'-&gt;1;'b'-&gt;2;'a'-&gt;3)
==&gt;('a'-&gt;1;'b'-&gt;2;'a'-&gt;3)
mm&gt; ('a'-&gt;1;'b'-&gt;2;'a'-&gt;3)&gt;-
==&gt;3</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>|</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Near-ring">near-ring</a><br>
<a href="https://en.wikipedia.org/wiki/Scalar_(mathematics)">scalar</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; ('a'|'b'|'a'|'b')
==&gt;('a'|'b')
mm&gt; ('a'|'b'|'a'|'b')&gt;-
==&gt;'a'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>|</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Near-ring">near-ring</a><br>
<a href="https://en.wikipedia.org/wiki/Tuple">pair</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; ('a'-&gt;1|'b'-&gt;2|'a'-&gt;3)
==&gt;('a'-&gt;1)
mm&gt; ('a'-&gt;1|'b'-&gt;2|'a'-&gt;3)&gt;-
==&gt;1</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">,-poly Collections</div>
<p>The <strong>,-polys</strong> capture the additive <a href="https://en.wikipedia.org/wiki/Abelian_group">abelian group</a> of the mm-ADT stream ring.</p>
</div>
<table class="tableblock frame-none grid-none center" style="width: 60%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">abstract magma</th>
<th class="tableblock halign-center valign-top">stream magma</th>
<th class="tableblock halign-center valign-top">free poly</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">\[(\tt{obj}, +, \mathbf{0})\]</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\[(\texttt{obj},\texttt{[branch]},\{\mathbf{0}\})\]</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\[(\texttt{obj},\texttt{(,)},\{\mathbf{0}\})\]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A general <code>,-poly</code> has <code>obj</code> as its carrier set, <code>,</code> as its the <a href="https://en.wikipedia.org/wiki/Commutative_property">commutative</a> binary \$+\$-operator, and <code>{0}</code> (<code>_{0}</code>) as its identity element. With <code>obj</code> quantification, should two <code>,-poly</code> terms have equal <em>objects</em>, they can be merged according to the mm-ADT <code>[branch]</code> operator equation:
\[
\begin{split}
[\texttt{branch},a_q, b_r] &amp;=
\begin{cases}
a_{q + r}                      &amp; \text{if } a == b, \\
[\texttt{branch},a_q, b_r] &amp; \text{otherwise},
\end{cases} \\
[a_q, b_r] &amp;=
\end{split}
\]
where \$+\$ is the quantifier ring&#8217;s additive operator and
\[
[a_q,\{\mathbf{0}\}] = a_q.
\]
The commutative aspect of the <code>,-poly</code> does not enforce an order upon its elements which yields <a href="https://en.wikipedia.org/wiki/Set_(mathematics)">set</a>-like semantics. However, given quantifier "weighting," <code>,-lst</code> collections realize <a href="https://en.wikipedia.org/wiki/Multiset">multiset</a> semantics (also known as bags or weighted sets) and <code>,-rec</code> collections realize <a href="https://en.wikipedia.org/wiki/Multimap">multimap</a> semantics (<a href="https://en.wikipedia.org/wiki/Associative_array">associative arrays</a> with multiple values for a single key).</p>
</div>
<div class="paragraph">
<p>A few self-explanatory <code>,-poly</code> examples are provided below.</p>
</div>
<table class="tableblock frame-all grid-all center" style="width: 90%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">,-lst</th>
<th class="tableblock halign-center valign-top">,-rec</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (1,{0},1,2,3)
==&gt;(1{2},2,3)
mmlang&gt; ('a'{7},'b','b'{0},'c','a'{2})
==&gt;('b','c','a'{9})
mmlang&gt; ('a',1.0,1,true)
==&gt;('a',1.0,1,true)</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (1-&gt;2,{0}-&gt;2,1-&gt;3,1-&gt;2,3-&gt;1)
==&gt;(1-&gt;2{2},3-&gt;1)
mmlang&gt; ('a'{7}-&gt;2,'a'-&gt;2{3},'b'-&gt;2)
==&gt;('a'{7}-&gt;2,'a'-&gt;2{3},'b'-&gt;2)
mmlang&gt; ('a'-&gt;true,1.0-&gt;6,1-&gt;{0},'a'-&gt;'a')
==&gt;('a'-&gt;[true,'a'],1.0-&gt;6)</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">;-poly Collections</div>
<p>The <strong>;-polys</strong> capture the non-commutative, multiplicative <a href="https://en.wikipedia.org/wiki/Monoid">monoid</a> of the mm-ADT ring.</p>
</div>
<table class="tableblock frame-none grid-none center" style="width: 60%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">abstract magma</th>
<th class="tableblock halign-center valign-top">stream magma</th>
<th class="tableblock halign-center valign-top">free poly</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">\[(\tt{obj}, \ast, \mathbf{1},\mathbf{0})\]</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\[(\texttt{obj},\texttt{[juxt]},\{\mathbf{1}\},\{\mathbf{0}\})\]</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\[(\texttt{obj},\texttt{(;)},\{\mathbf{1}\},\{\mathbf{0}\})\]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>;-poly</code> carrier set is <code>obj</code>, the multiplicative operator is <code>;</code>, the multiplicative identity is <code>{1}</code>, and due to the larger ring in which this magma is embedded, <code>{0}</code> is the <a href="https://en.wikipedia.org/wiki/Annihilator_(ring_theory)">annihilator</a>. Due to non-commutativity, the <code>;</code> delimited elements form an <a href="https://en.wikipedia.org/wiki/Sequence">ordered sequence</a>. In <code>lst</code>, the consequence is a collection data structure with <a href="https://en.wikipedia.org/wiki/List_(abstract_data_type)">list</a>-semantics. In <code>rec</code>, a <a href="https://en.wikipedia.org/wiki/Record_%28computer_science%29">record</a> with ordered fields is realized. Both support duplicates so the <code>rec</code> form is less like an associative array and more like a <em>list of pairs/fields</em>.</p>
</div>
<div class="paragraph">
<p>The <code>[juxt]</code> operator is mm-ADT&#8217;s multiplicative monoid operator and is only applied in <code>;-poly</code> for the universal elements \$\mathbf{1}\$ and \$\mathbf{0}\$. Given the equation</p>
</div>
<div class="paragraph">
<p>\[
\begin{split}
a_q[\texttt{juxt}, b_r] &amp;=
\begin{cases}
b_{q \ast r} &amp; \text{if } b \text{ is a value}, \\
b(a)_{q \ast r}         &amp; \text{otherwise,}
\end{cases} \\
a_q \Rightarrow b_r     &amp;=
\end{split}
\]</p>
</div>
<div class="paragraph">
<p><code>;-poly</code> only computes the identity and the annihilator</p>
</div>
<table class="tableblock frame-none grid-none center" style="width: 60%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
\begin{split}
a_q \Rightarrow \{\mathbf{1}\} &amp;= \\
\{\mathbf{1}\}_1(a_q)          &amp;= \\
a_{q \ast 1}                   &amp;= a_q
\end{split}
\]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
\begin{split}
a_q \Rightarrow \{\mathbf{0}\} &amp;= \\
\{\mathbf{0}\}_0(a_q)          &amp;= \\
a_{q \ast 0}                   &amp;= \{\mathbf{0}\}.
\end{split}
\]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Examples are presented below that contain both \$\{\mathbf{0}\}\$ and \$\{\mathbf{1}\}\$ elements.</p>
</div>
<table class="tableblock frame-all grid-all center" style="width: 90%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">;-lst</th>
<th class="tableblock halign-center valign-top">;-rec</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (1;6;1;2;{1})
==&gt;(1;6;1;2;_)
mmlang&gt; ('a'{7};'b';'b'{0};'c';'a'{2})
==&gt;('a'{7};'b';{0};'c';'a'{2})
mmlang&gt; ('a';{1};1.0;1;true;{1})
==&gt;('a';_;1.0;1;true;_)</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (1-&gt;2;{1}-&gt;2;1-&gt;3;1-&gt;{1};3-&gt;1)
==&gt;(1-&gt;2;_-&gt;2;3-&gt;1)
mmlang&gt; ('a'{7}-&gt;2;'a'-&gt;2{3};'b'-&gt;2)
==&gt;('a'{7}-&gt;2;'a'-&gt;2{3};'b'-&gt;2)
mmlang&gt; ('a'-&gt;true;1.0-&gt;4;1-&gt;{0};{1}-&gt;'a')
==&gt;({0}-&gt;{0})</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<div class="title">|-poly Collections</div>
<p>The <strong>|-polys</strong> captures <a href="https://en.wikipedia.org/wiki/Endomorphism">endomorphic</a>, left-<a href="https://en.wikipedia.org/wiki/Distributive_property">distributive</a>, multiplicative, <a href="https://en.wikipedia.org/wiki/Function_composition">compositions</a> over the <a href="https://en.wikipedia.org/wiki/Near-ring">near-ring</a> subgroup of mm-ADT&#8217;s additive abelian group.</p>
</div>
<table class="tableblock frame-none grid-none center" style="width: 80%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">abstract magma</th>
<th class="tableblock halign-center valign-top">stream magma</th>
<th class="tableblock halign-center valign-top">free poly</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">\[(\texttt{obj},\oplus_1,\mathbf{0}/\mathbf{1})\]</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\[(\texttt{obj},\texttt{[barrier,[head]]},\{\mathbf{1}\},\{\mathbf{0}\})\]</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">\[(\texttt{obj},\texttt{(|)},\{\mathbf{1}\},\{\mathbf{0}\})\]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>[barrier]</code> \$n\$-ary operator&#8217;s arguments are all the <code>objs</code> of the input stream. This yields a <a href="https://en.wikipedia.org/wiki/Blocking_%28computing%29">blocking</a> <a href="https://en.wikipedia.org/wiki/Synchronization_(computer_science)">synchronization</a> point necessary for <a href="https://en.wikipedia.org/wiki/Reduction_Operator">reduce</a>/<a href="https://en.wikipedia.org/wiki/Fold_%28higher-order_function%29">fold</a>-based computations. The operator&#8217;s \$1\$ subscript denotes a particular augmentation to the <a href="https://en.wikipedia.org/wiki/Higher-order_function">higher-order</a> \$\oplus\$ operator, where \$\oplus_1\$ returns the first non-zero <code>obj</code> argument&#8201;&#8212;&#8201;i.e., the head of the stream (a <a href="https://en.wikipedia.org/wiki/Lazy_evaluation">lazy computation</a>).</p>
</div>
<div class="paragraph">
<p>\[
\begin{split}
[a_q,\ldots,b_r]\texttt{[barrier,[head]]} &amp;=
\begin{cases}
a_q &amp; \text{if } q &gt; 0, \\
\ldots \\
b_r &amp; \text{if } r &gt; 0, \\
\{\mathbf{0}\} &amp; \text{otherwise,}
\end{cases}
\end{split}
\]</p>
</div>
<div class="paragraph">
<p><code>|-poly</code> yields singleton <code>lsts</code> and <code>recs</code>. The purpose of this seemingly odd behavior is more salient in <code>|-polys</code> flow controls (presented in the next section). A collection of self-explanatory examples are provided below.</p>
</div>
<table class="tableblock frame-all grid-all center" style="width: 90%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">|-lst</th>
<th class="tableblock halign-center valign-top">|-rec</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (1|6|1|2|{1})
==&gt;(1|6|2)
mmlang&gt; ('a'{0}|'b'{0}|'c'|'a'{2})
==&gt;('c'|'a'{2})
mmlang&gt; ('a'{?}|{1}|1.0|true)
==&gt;('a'{?}|_)</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; ({1}-&gt;2|6-&gt;2|1-&gt;3|1-&gt;{1}|3-&gt;1)
==&gt;(_-&gt;2)
mmlang&gt; ('a'{0}-&gt;2|'b'-&gt;2{3}|'c'-&gt;2)
==&gt;('b'-&gt;2{3})
mmlang&gt; ('a'-&gt;{0}|{0}-&gt;4|1-&gt;true|2-&gt;'a')
==&gt;(1-&gt;true)</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When each <code>poly</code> contains 0 or 1 element, the respective algebras behave equivalently. It is only at 2+ terms that the <code>poly</code> algebras become discernible and instructions such as <code>[eq]</code> consider the <code>poly</code> element separator in their calculation.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_poly_controls">Poly Controls</h5>
<div class="paragraph">
<p>The mm-ADT ring&#8217;s additive <a href="https://en.wikipedia.org/wiki/Abelian_group">abelian group</a> operator is accessible via the <code>[branch]</code> instruction. The <code>[branch]</code> instruction&#8217;s argument is a <code>poly</code>. Each term of the <code>poly</code> argument is an operand of the ring&#8217;s \$+\$-operator. In this way, each of the 6 <code>poly</code> forms represents a particular <a href="https://en.wikipedia.org/wiki/Control_flow">control structure</a>. Due to the prevalent use of <code>[branch]</code>, <code>mmlang</code> offers the sugar&#8217;d encoding of <code>[ ]</code>, where both the instruction opcode and the <code>poly</code> parentheses are not written. For example, <code>[branch,(+1,+2,+3)]</code> is equivalent to <code>[+1,+2,+3]</code>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 3.8461%;">
<col style="width: 11.5384%;">
<col style="width: 34.6153%;">
<col style="width: 3.8461%;">
<col style="width: 11.5384%;">
<col style="width: 34.6157%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">lst</th>
<th class="tableblock halign-left valign-top">control</th>
<th class="tableblock halign-left valign-top">mmlang example</th>
<th class="tableblock halign-center valign-top">rec</th>
<th class="tableblock halign-left valign-top">control</th>
<th class="tableblock halign-left valign-top">mmlang example</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>,</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Union_(set_theory)">union</a><br>
<a href="https://en.wikipedia.org/wiki/Method_cascading">cascade</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 6 =&gt; int[+1,+3,+1]
==&gt;9
==&gt;7{2}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>,</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Conditional_(computer_programming)">conditional</a><br>
<a href="https://en.wikipedia.org/wiki/Method_cascading">cascade</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 6 =&gt; int[is&gt;10 -&gt; +1,
             is&gt;5  -&gt; +2,
             int   -&gt; +3]
==&gt;8
==&gt;9</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>;</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Fluent_interface">fluent</a><br>
<a href="https://en.wikipedia.org/wiki/Method_chaining">chaining</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 6 =&gt; int[+1;+2;+3]
==&gt;12</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>;</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Conditional_(computer_programming)">conditional</a><br>
<a href="https://en.wikipedia.org/wiki/Method_chaining">chaining</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 6 =&gt; int[is&gt;0 -&gt; +1;
             is&gt;5 -&gt; +2;
             int  -&gt; +3]
==&gt;12</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>|</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Null_coalescing_operator">coalesce</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 6 =&gt; int[+1[is&gt;10]|
             +2[is&gt;5] |
             +3       ]
==&gt;8</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<th class="tableblock halign-center valign-top"><p class="tableblock"><code>|</code></p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Switch_statement">switch</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 6 =&gt; int[is&gt;10 -&gt; +1|
             is&gt;5  -&gt; +2|
             _     -&gt; +3]
==&gt;8</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<hr>
<div class="paragraph">
<div class="title">,-poly Controls</div>
<p>The <strong>,-polys</strong> capture the additive <a href="https://en.wikipedia.org/wiki/Abelian_group">abelian group</a> of the mm-ADT ring. The <a href="https://en.wikipedia.org/wiki/Associative_property">associativity</a> and <a href="https://en.wikipedia.org/wiki/Commutative_property">commutativity</a> of the group operator means that the order in which the terms are evaluated (associativity) and results aggregated (commutativity) does not change the semantics of the computation. More specifically to the notion of control, it means that the irreducible terms in a <code>,-poly</code> are not sequentially dependent on one another. This independence enables evaluation isolation and thus, promotes <a href="https://en.wikipedia.org/wiki/Parallel_computing">parallelism</a>. The <code>,-poly</code> algebra realizes <a href="https://en.wikipedia.org/wiki/Method_cascading">cascading</a> <a href="https://en.wikipedia.org/wiki/Union_(set_theory)">union</a> in <code>lst</code> and <a href="https://en.wikipedia.org/wiki/Conditional_(computer_programming)">conditional</a> cascading in <code>rec</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In the examples to follow \$v\$ is the neumoi for <em>value</em> and \$k\$ is the nuemonic for <em>key</em>. Furthermore, the <code>mmlang</code> examples use Unicode supscript characters to better align the <code>mmlang</code> examples with the <code>mmnotation</code> equations.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. ,-poly Branch</caption>
<colgroup>
<col style="width: 43.75%;">
<col style="width: 56.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">,-lst (union cascade)</th>
<th class="tableblock halign-center valign-top">,-rec (conditional cascade)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
x &#8658; \big[g_0,g_1,\ldots,g_n\big] \;\;=\;\; \coprod_{i=0}^n x &#8658; g_i
\]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
x &#8658; \big[(k_0 \to g_0),\ldots,(k_n \to g_n)\big]
\;\;=\;\;
\coprod_{i=0}^n
\begin{cases}
x &#8658; g_i   &amp; \text{if } (x &#8658; k_i) \neq \mathbf{0}, \\
\mathbf{0} &amp; \text{otherwise}.
\end{cases}
\]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x' =&gt; [+'g₀',+'g₁',+'g₂']
==&gt;'xg₀'
==&gt;'xg₁'
==&gt;'xg₂'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x' =&gt; [+'k₀'-&gt;+'g₀',+'k₁'-&gt;+'g₁',+'k₂'-&gt;+'g₂']
==&gt;'xg₀'
==&gt;'xg₁'
==&gt;'xg₂'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. ,-poly Split/Merge</caption>
<colgroup>
<col style="width: 43.75%;">
<col style="width: 56.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">,-lst (union cascade)</th>
<th class="tableblock halign-center valign-top">,-rec (conditional cascade)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/type/comma-lst-graph.svg" alt="comma lst graph"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/type/comma-rec-graph.svg" alt="comma rec graph"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x'-&lt;(+'g₀',+'g₁',+'g₂')
==&gt;('xg₀','xg₁','xg₂')
mm&gt; 'x'-&lt;(+'g₀',+'g₁',+'g₂')&gt;-
==&gt;'xg₀'
==&gt;'xg₁'
==&gt;'xg₂'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x'-&lt;(+'k₀'-&gt;+'g₀',+'k₁'-&gt;+'g₁',+'k₂'-&gt;+'g₂')
==&gt;('xk₀'-&gt;'xg₀','xk₁'-&gt;'xg₁','xk₂'-&gt;'xg₂')
mm&gt; 'x'-&lt;(+'k₀'-&gt;+'g₀',+'k₁'-&gt;+'g₁',+'k₂'-&gt;+'g₂')&gt;-
==&gt;'xg₀'
==&gt;'xg₁'
==&gt;'xg₂'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that in all subsequent <code>[branch,poly]</code> equations to follow, \$x \in \tt{obj}\$ is an incoming <code>obj</code> to the respective <code>[branch]</code> instruction.</p>
</div>
<div class="paragraph">
<div class="title">;-poly Controls</div>
<p>The <strong>;-polys</strong> capture the multiplicative <a href="https://en.wikipedia.org/wiki/Monoid">monoid</a> of the mm-ADT ring. The result of each term is the input to the next term in the sequence. In <code>lst</code>, <a href="https://en.wikipedia.org/wiki/Method_chaining">method chaining</a> is realized and in <code>rec</code> <a href="https://en.wikipedia.org/wiki/Conditional_(computer_programming)">conditional</a> chaining.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. ;-poly Branch</caption>
<colgroup>
<col style="width: 43.75%;">
<col style="width: 56.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">;-lst (fluent chaining)</th>
<th class="tableblock halign-center valign-top">;-rec (conditional chaining)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
x &#8658; \big[m_0;m_1;\ldots;m_n\big] \;\;=\;\; x &#8658; \prod_{i=0}^n m_i
\]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
x &#8658; \big[(k_0 \to m_0),\ldots,(k_n \to m_n)\big]
\;\;=\;\;
x &#8658; \prod_{i=0}^n
\begin{cases}
m_i   &amp; \text{if } (x &#8658; k_i) \neq \mathbf{0}, \\
\mathbf{0} &amp; \text{otherwise}.
\end{cases}
\]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x' =&gt; [+'m₀';+'m₁';+'m₂']
==&gt;'xm₀m₁m₂'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x' =&gt; [+'k₀'-&gt;+'m₀';+'k₁'-&gt;+'m₁';+'k₂'-&gt;+'m₂']
==&gt;'xm₀m₁m₂'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. ;-poly Split/Merge</caption>
<colgroup>
<col style="width: 43.75%;">
<col style="width: 56.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">;-lst (fluent chaining)</th>
<th class="tableblock halign-center valign-top">;-rec (conditional chaining)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/type/semi-lst-graph.svg" alt="semi lst graph"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/type/semi-rec-graph.svg" alt="semi rec graph"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x'-&lt;(+'m₀';+'m₁';+'m₂')
==&gt;('xm₀';'xm₀m₁';'xm₀m₁m₂')
mm&gt; 'x'-&lt;(+'m₀';+'m₁';+'m₂')&gt;-
==&gt;'xm₀m₁m₂'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x'-&lt;(+'k₀'-&gt;+'m₀';+'k₁'-&gt;+'m₁';+'k₂'-&gt;+'m₂')
==&gt;('xk₀'-&gt;'xm₀';'xm₀k₁'-&gt;'xm₀m₁';'xm₀m₁k₂'-&gt;'xm₀m₁m₂')
mm&gt; 'x'-&lt;(+'k₀'-&gt;+'m₀';+'k₁'-&gt;+'m₁';+'k₂'-&gt;+'m₂')&gt;-
==&gt;'xm₀m₁m₂'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="image left"><img src="./images/type/bubble-chamber.png" alt="bubble chamber" width="200"></span> The <code>;-lst</code> equation above realizes a structure and process joyfully named the <a href="https://en.wikipedia.org/wiki/Bubble_chamber">"bubble chamber"</a>.
In experimental higher-energy physics, a bubble chamber is small room filled with high pressure vapor.
Particles are shot into the room and the trace they leave (called their <em>varpor trail</em>) provides physicists empirical data on the nature of the particle under study&#8201;&#8212;&#8201;e.g., its mass, velocity, spin, and, when capturing decay, the sub-atomic particles that compose it.
In mm-ADT, \$x\$ above plays the role of the <em>particle</em> and <code>;-lst</code> the <em>bubble chamber</em> with each term in the <code>;-lst</code> acting as a <em>vapor droplet</em>.</p>
</div>
<div class="paragraph">
<div class="title">|-poly Controls</div>
<p>The <strong>|-polys</strong> capture mm-ADT&#8217;s <em>barrier</em> <a href="https://en.wikipedia.org/wiki/Near-ring">near-ring</a>, where the first non-\$\mathbf{0}\$ ("non-<a href="https://en.wikipedia.org/wiki/Null_pointer">null</a>") element is the output of the branch. As a control structure, <code>|-poly</code> is a <a href="https://en.wikipedia.org/wiki/Sequential_algorithm">sequential</a> branch that can be understood programmatically as a <a href="https://en.wikipedia.org/wiki/Short-circuit_evaluation">short-circuit</a> <a href="https://en.wikipedia.org/wiki/Fold_%28higher-order_function%29">fold</a>. In <code>lst</code>, <a href="https://en.wikipedia.org/wiki/Null_coalescing_operator">non-null coalescing</a> is realized and in <code>rec</code> a <a href="https://en.wikipedia.org/wiki/Switch_statement">switch statement</a> is realized.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. |-poly Branch</caption>
<colgroup>
<col style="width: 43.75%;">
<col style="width: 56.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">|-lst (coalesce)</th>
<th class="tableblock halign-center valign-top">|-rec (switch)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
x &#8658; \big[r_0,r_1,\ldots,r_n\big] =
\begin{cases}
x &#8658; r_0  &amp; \text{if } (x &#8658; r_0) \neq \mathbf{0}, \\
x &#8658; r_1  &amp; \text{if } (x &#8658; r_1) \neq \mathbf{0}, \\
\ldots  &amp; \\
x &#8658; r_n  &amp; \text{if } (x &#8658; r_n) \neq \mathbf{0}, \\
\mathbf{0} &amp; \text{otherwise}.
\end{cases}
\]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">\[
x &#8658; \big[(k_0\to r_0),\ldots,(k_n\to r_n)\big]
=
\begin{cases}
x &#8658; r_0  &amp; \text{if } (x &#8658; k_0) \neq \mathbf{0}, \\
x &#8658; r_1  &amp; \text{if } (x &#8658; k_1) \neq \mathbf{0}, \\
\ldots  &amp; \\
x &#8658; r_n  &amp; \text{if } (x &#8658; k_n) \neq \mathbf{0}, \\
\mathbf{0} &amp; \text{otherwise}.
\end{cases}
\]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x' =&gt; ['r₀'{0}|+'r₁'|+'r₂']
==&gt;'xr₁'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x' =&gt; ['k₀'{0}-&gt;+'r₀'|+'k₁'-&gt;+'r₁'|+'k₂'-&gt;+'r₂']
==&gt;'xr₁'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. |-poly Split/Merge</caption>
<colgroup>
<col style="width: 43.75%;">
<col style="width: 56.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">|-lst (coalesce)</th>
<th class="tableblock halign-center valign-top">|-rec (switch)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/type/pipe-lst-graph.svg" alt="pipe lst graph"></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/type/pipe-rec-graph.svg" alt="pipe rec graph"></span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x'-&lt;('r₀'{0}|+'r₁'|+'r₂')
==&gt;('xr₁')
mm&gt; 'x'-&lt;('r₀'{0}|+'r₁'|+'r₂')&gt;-
==&gt;'xr₁'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 'x'-&lt;('k₀'{0}-&gt;+'r₀'|+'k₁'-&gt;+'r₁'|+'k₂'-&gt;+'r₂')
==&gt;('xk₁'-&gt;'xr₁')
mm&gt; 'x'-&lt;('k₀'{0}-&gt;+'r₀'|+'k₁'-&gt;+'r₁'|+'k₂'-&gt;+'r₂')&gt;-
==&gt;'xr₁'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As previously stated for collection <code>polys</code>, control <code>poly</code> semantics are only discernible amongst <code>polys</code> with 2 or more terms.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_poly_lifting">Poly Lifting</h5>
<div class="paragraph">
<p><span class="image left"><img src="./images/type/poly-lift.svg" alt="poly lift" width="250"></span> A consequence of the dual use of <code>poly</code> as both a data structure and a control structure is that <code>poly</code> supports a <a href="https://en.wikipedia.org/wiki/Lift_(mathematics)">lifted</a> encoding of mm-ADT itself. Each <code>poly</code> form captures a particular <a href="https://en.wikipedia.org/wiki/Magma_%28algebra%29">magma</a> of the underlying mm-ADT stream ring algebra. As a collection, <code>poly</code> provides a programmatic way of writing mm-ADT programs (types) and as flow control, these <code>poly</code> encoded mm-ADT programs can be executed. The complete algebraic specification of <code>poly</code> lifting via an <code>obj</code>-<a href="https://en.wikipedia.org/wiki/Module_(mathematics)">module</a> of the mm-ADT ring will be presented in a latter section. For now, the following <code>mmlang</code> examples demonstrate <code>poly</code> lifting in support of mm-ADT <a href="https://en.wikipedia.org/wiki/Metaprogramming">metaprogramming</a>.</p>
</div>
<div class="paragraph">
<p>The mm-ADT type below contains both monoidal (serial composition) and group (parallel branching) components whose construction is captured by the bottom morphism of the diagram above. Note that the <code>[explain]</code> instruction is appended for educational purposes only&#8201;&#8212;&#8201;so as to detail the \$\Rightarrow\$ compositions.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/type/poly-embed-composition.svg" alt="poly embed composition" width="220">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{3}[mult,10][is&gt;20 -&gt; [+70,+170,+270],
                        is&gt;10 -&gt;   [*10,*20,*30]][plus,100][explain]
==&gt;'
int{0,18}&lt;=int{3}[mult,10][int{0,3}&lt;=int{3}[is,bool{3}&lt;=int{3}[gt,20]]-&gt;int{9}&lt;=int{3}[int{3}[plus,70],int{3}[plus,170],int{3}[plus,270]],int{0,3}&lt;=int{3}[is,bool{3}&lt;=int{3}[gt,10]]-&gt;int{9}&lt;=int{3}[int{3}[mult,10],int{3}[mult,20],int{3}[mult,30]]][plus,100]

inst                                           domain            range       state
-----------------------------------------------------------------------------------
[mult,10]                                      int{3}       =&gt;   int{3}
[int{0,3}&lt;=int{3}[is,bool{3}&lt;=int{3}[gt,...    int{3}       =&gt;   int{0,18}
 [is,bool{3}&lt;=int{3}[gt,20]]                    int{3}      =&gt;    int{0,3}
  [gt,20]                                        int{3}     =&gt;     bool{3}
 -&gt;[int{3}[plus,70],int{3}[plus,170],int{3}...    int{3}      =&gt;    int{9}
  [plus,70]                                      int{3}     =&gt;     int{3}
  [plus,170]                                     int{3}     =&gt;     int{3}
  [plus,270]                                     int{3}     =&gt;     int{3}
 [is,bool{3}&lt;=int{3}[gt,10]]                    int{3}      =&gt;    int{0,3}
  [gt,10]                                        int{3}     =&gt;     bool{3}
 -&gt;[int{3}[mult,10],int{3}[mult,20],int{3}[...    int{3}      =&gt;    int{9}
  [mult,10]                                      int{3}     =&gt;     int{3}
  [mult,20]                                      int{3}     =&gt;     int{3}
  [mult,30]                                      int{3}     =&gt;     int{3}
[plus,100]                                     int{0,18}    =&gt;   int{0,18}
'</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above type can be expressed in a pure <code>poly</code> form, where <code>;</code> is serial composition and <code>,</code> is parallel branching. This construction is captured by the slanted morphism in the diagram above.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/type/poly-embed-lifting.svg" alt="poly embed lifting" width="220">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (int{3};[mult,10];-&lt;(-&lt;([is&gt;20];-&lt;(+70,+170,+270)&gt;-)&gt;-,
                             -&lt;([is&gt;10];-&lt;(*10,*20,*30  )&gt;-)&gt;-)&gt;-;[plus,100])
==&gt;(int{3};_[mult,10];_[split,(_[split,(_[is,_[gt,20]];_[split,(_[plus,70],_[plus,170],_[plus,270])][merge])][merge],_[split,(_[is,_[gt,10]];_[split,(_[mult,10],_[mult,20],_[mult,30])][merge])][merge])][merge];_[plus,100])</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>[split]</code> instruction (sugar&#8217;d <code>-&lt;</code>) renders <code>poly</code> a ring <a href="https://en.wikipedia.org/wiki/Module_(mathematics)">module</a>. Incoming <code>objs</code> are <a href="https://en.wikipedia.org/wiki/Scalar_(mathematics)">scalars</a> to a <code>poly</code> <a href="https://en.wikipedia.org/wiki/Vector_space">vector</a> according to the equations
\[
\begin{split}
x \prec &amp;\; (v_0,v_1,\ldots,v_n) \;\;&amp;=\;\; (xv_0,xv_1,\ldots,xv_n) \\
x \prec &amp;\; (v_0;v_1;\ldots;v_n) \;\;&amp;=\;\; (xv_0;v_1;\ldots;v_n)   \\
x \prec &amp;\; (v_0|v_1|\ldots|v_n) \;\;&amp;=\;\; (xv_i),
\end{split}
\]
where \$x \prec \tt{poly}\$ is the instruction <code>x =&gt; [split,poly]</code>. The <code>[merge]</code> instruction evaluates the <code>poly</code> according to the algebra denoted by its term separator (<code>,</code>, <code>;</code>, or <code>|</code>). This has the effect of "draining" the <code>poly</code> of it&#8217;s internal <code>objs</code> such that
\[
\begin{split}
(xv_0,xv_1,\ldots,xv_n) \succ \;\;&amp;=\;\; \coprod_{i=0}^n x \Rightarrow v_i \\
(xv_0;v_1;\ldots;v_n)   \succ \;\;&amp;=\;\; x \Rightarrow \prod_{i=0}^n v_i  \\
(xv_i)                  \succ \;\;&amp;=\;\; xv_i : v_i \neq \mathbf{0},
\end{split}
\]
where \$\tt{poly} \succ\$ is the expression <code>poly =&gt; [merge]</code>.</p>
</div>
<div class="paragraph">
<p>Finally, both the original unlifted form and the <code>poly</code> lifted form of the type yield the same result at evaluation, where the final expression binds (<code>-&lt;</code>) the values 1, 2, and 3 to the indeterminate terms, thus solving (<code>&gt;-</code>) the <a href="https://en.wikipedia.org/wiki/Polynomial_ring">polynomial</a> equation.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="./images/type/poly-embed-solve.svg" alt="poly embed solve" width="220">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; [1,2,3] =&gt; int{3}[mult,10][is&gt;20 -&gt; [+70,+170,+270],
                                   is&gt;10 -&gt;   [*10,*20,*30]][plus,100]
==&gt;500
==&gt;200
==&gt;300{2}
==&gt;400{2}
==&gt;700{2}
==&gt;1000
mmlang&gt; [1,2,3]-&lt;(int{3};[mult,10];-&lt;(-&lt;([is&gt;20];-&lt;(+70,+170,+270)&gt;-)&gt;-,
                                      -&lt;([is&gt;10];-&lt;(*10,*20,*30  )&gt;-)&gt;-)&gt;-;[plus,100])&gt;-
==&gt;500
==&gt;200
==&gt;300{2}
==&gt;400{2}
==&gt;700{2}
==&gt;1000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Given that <code>[split,poly:x][merge]</code> is equivalent to <code>[branch,poly:x]</code>, the <code>poly</code> type can be written more succinctly in a pure <code>[branch]</code> form as below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; [1,2,3] =&gt; [int{3};[mult,10];[[[is&gt;20];[+70,+170,+270]],
                                      [[is&gt;10];[*10,*20,*30  ]]];[plus,100]]
==&gt;500
==&gt;200
==&gt;300{2}
==&gt;400{2}
==&gt;700{2}
==&gt;1000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that, when incident to each other, <code>[split]/[merge]</code> has the same equation as <code>[branch]</code>.</p>
</div>
<div class="paragraph">
<p>\[
\begin{split}
x \prec &amp;\; (v_0,v_1,\ldots,v_n) \succ \;\;&amp;=\;\; x \Rightarrow \big[v_0,v_1,\ldots,v_n \big] \;\;&amp;=\;\; \coprod_{i=0}^n x \Rightarrow v_i  \\
x \prec &amp;\; (v_0;v_1;\ldots;v_n) \succ \;\;&amp;=\;\; x \Rightarrow  \big[v_0;v_1;\ldots;v_n\big] \;\;&amp;=\;\; x \Rightarrow \prod_{i=0}^n v_i   \\
x \prec &amp;\; (v_0|v_1|\ldots|v_n) \succ \;\;&amp;=\;\; x \Rightarrow \big[v_0|v_1|\ldots|v_n\big]  \;\;&amp;=\;\; xv_i : v_i \neq \mathbf{0}
\end{split}
\]</p>
</div>
<div class="paragraph">
<p>The reason for using <code>-&lt;( )&gt;-</code> versus <code>[ ]</code> is that when <code>[split]</code> and <code>[merge]</code> are not juxtaposed, <a href="https://en.wikipedia.org/wiki/Reflection_(computer_programming)">reflection</a> is possible on the intermediate results of the internal <code>poly</code> computation. That is, when only a <code>[split]</code> is applied, a <em>half-branch</em> occurs and all the <code>poly</code> domain instructions can operate on the midway results. Intuitively, <code>[split]</code> transforms a control structure into a data structure and <code>[merge]</code> transforms a data structure into a control structure. At this intermediate point when the computation is a data structure, the computation can be manipulated programmatically. That is the power of a lifted representation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; [1,2,3]-&lt;(int{3};[mult,10];-&lt;(-&lt;([is&gt;20];-&lt;(+70,+170,+270))))
==&gt;(1;10;(({0};{0})))
==&gt;(2;20;(({0};{0})))
==&gt;(3;30;((30;(100,200,300))))
mmlang&gt; [1,2,3]-&lt;(int{3};[mult,10];-&lt;(-&lt;([is&gt;20];-&lt;(+70,+170,+270)),
                                      -&lt;([is&gt;10];-&lt;(*10,*20,*30  ))))
==&gt;(1;10;(({0};{0}),({0};{0})))
==&gt;(2;20;(({0};{0}),(20;(200,400,600))))
==&gt;(3;30;((30;(100,200,300)),(30;(300,600,900))))
mmlang&gt; [1,2,3]-&lt;(int{3};[mult,10];-&lt;(-&lt;([is&gt;20];-&lt;(+70,+170,+270)&gt;-)&gt;-,
                                      -&lt;([is&gt;10];-&lt;(*10,*20,*30  )&gt;-)&gt;-)&gt;-;[plus,100])
==&gt;(1;10;{0};{0})
==&gt;(2;20;[200,400,600];[300,500,700])
==&gt;(3;30;[100,200,300{2},600,900];[200,300,400{2},700,1000])
mmlang&gt; [1,2,3]-&lt;(int{3};[mult,10];-&lt;(-&lt;([is&gt;20];-&lt;(+70,+170,+270)&gt;-)&gt;-,
                                      -&lt;([is&gt;10];-&lt;(*10,*20,*30  )&gt;-)&gt;-)&gt;-;[plus,100])&gt;-
==&gt;500
==&gt;200
==&gt;300{2}
==&gt;400{2}
==&gt;700{2}
==&gt;1000</code></pre>
</div>
</div>
<div class="paragraph">
<p>In summary, mm-ADT can be <a href="https://en.wikipedia.org/wiki/Embedding">embedded</a> in <code>poly</code> itself. The formal proof of this fact demonstrates that the mm-ADT <a href="https://en.wikipedia.org/wiki/Instruction_set_architecture">instruction set architecture</a>, the two <a href="https://en.wikipedia.org/wiki/Ring_%28mathematics%29">ring</a> operators (\$+\$ and \$*\$), and the <em>reduce</em> <a href="https://en.wikipedia.org/wiki/Near-ring">near-ring</a> operator (\$\oplus\$) are sufficiently expressive to yield a <a href="https://en.wikipedia.org/wiki/Turing_completeness">Turing Complete</a> computing machine.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_obj_graph">The Obj Graph</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An mm-ADT program is a <strong>type</strong>. The <code>mmlang</code> parser converts a textual representation of a type into a type <code>obj</code>. A type is inductively defined and is encoded as a <a href="https://en.wikipedia.org/wiki/Path_(graph_theory)">path</a> within the larger <strong>type graph</strong>. The type&#8217;s path is a graphical encoding specifying a data flow <a href="https://en.wikipedia.org/wiki/Pipeline_(computing)">pipeline</a> that when evaluated, constructs elements of the type (i.e. computed resultant values). These values also have a graphical encoding paths in the <strong>value graph</strong>. Together, the type graph and the value graph form the <a href="https://en.wikipedia.org/wiki/Quiver_(mathematics)">quiver</a> known as the <strong>obj graph</strong>.</p>
</div>
<div class="paragraph">
<p>Every aspect of an mm-ADT computation from composition, to compilation, and ultimately to evaluation is materialized in the <code>obj</code> graph. The following itemizations summarizes the various roles that the <code>obj</code> graph throughout a computation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Composition</strong>: The construction of a type via the <a href="https://en.wikipedia.org/wiki/Tacit_programming">point-free</a> style of <code>mmlang</code> is a the lexical correlate of walking the <code>obj</code> graph from a source vertex (domain ctype) across a series of instruction-labeled edges (<code>inst</code>) to ultimately arrive at a target vertex (range ctype). The path, a <a href="https://en.wikipedia.org/wiki/Free_object">free object</a>, contains both the type&#8217;s signature and definition.</p>
</li>
<li>
<p><strong>Compilation</strong>: A path in the type graph can be prefixed with another ctype (e.g. placing <code>int</code> before <code>_</code>). In doing so, the path&#8217;s domain has been alterered and the path is recomputed to potentially yield a variant of the original path (e.g. a type inferenced path).</p>
</li>
<li>
<p><strong>Rewrite</strong>: Subpaths of a path in the type graph can be specified as being semantically equivalent to another path in the type graph via <code>poly</code> lifted rewriting <code>(y)&lt;=(x)</code>. Subsequent compilations and evaluations of the path may yield path variants.</p>
</li>
<li>
<p><strong>Optimization</strong>: Every instruction in <code>inst</code> has an associated cost dependent on the underlying storage and processor. Rewrites create a superposition of programs. Given that the <code>obj</code> graph <a href="https://en.wikipedia.org/wiki/Commutative_diagram">commutes</a>, a <a href="https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm">weighted shortest path</a> calculation from a domain vertex to a range vertex is an example of a simple technique for choosing an efficient execution plan.</p>
</li>
<li>
<p><strong>Variables</strong>: Variable bindings are encoded in instructions. When the current instruction being evaluated requires historic state information, the <code>obj</code><sup>op</sup> graph (with edges reversed) is searched in order to locate the vertex incident to a variable <code>inst</code>.</p>
</li>
<li>
<p><strong>Evaluation</strong>: Program evaluation binds the type graph to the value graph. When a type path is prefixed with a value <code>obj</code>, the instructions along the path operate on the value, where the path&#8217;s target vertex is the result of the computation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This section will discuss the particulars of the aforementioned uses of the <code>obj</code> graph.</p>
</div>
<div class="sect2">
<h3 id="_state">State</h3>
<div class="paragraph">
<p>Let \$(M,\cdot,e)\$ be a <a href="https://en.wikipedia.org/wiki/Monoid">monoid</a>, where \$e \in M\$ is the <a href="https://en.wikipedia.org/wiki/Identity_element">identity element</a> and there exists an element \$e' \in M\$ that also acts as an identity such that for every \$ x \in M \$, \$x \cdot e = x\$ and \$x \cdot e' = x\$, then because \$e \cdot e' = e\$ and \$e \cdot e' = e'\$, it is the case that \$e = e \cdot e' = e'\$ and \$e = e'\$.
Thus, every monoid has a <strong>single unique identity</strong>.
However, in a <a href="https://en.wikipedia.org/wiki/Free_monoid">free monoid</a>, where element composition history is preserved, it is possible to record \$e\$ and \$e'\$ as distinctly <em>labeled</em> elements even though their role in the non-free monoid&#8217;s binary composition are the same&#8201;&#8212;&#8201;namely, that they both act as identities.</p>
</div>
<table class="tableblock frame-all grid-all right" style="width: 50%;">
<colgroup>
<col style="width: 40%;">
<col style="width: 20%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">idiom</th>
<th class="tableblock halign-left valign-top">inst</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Variable_%28computer_science%29">variables</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[to]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>obj</code> references</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Data_type">type definitions</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[define]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code> mappings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Category_(mathematics)">models</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[model]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">domain of discourse</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Reversible_computing">reversible computing</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[path]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">computing history</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>It is through <strong>multiple distinct identities</strong> in <code>inst</code> that mm-ADT supports the programming idioms in the associated table. The general approach is <em>state is stored along the path of the <code>obj</code>.</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 6 =&gt; int[plus,[mult,2]][path]
==&gt;(6;[plus,12];18)
   &lt;=6[plus,12][path,(_;_)]
mmlang&gt; 8 =&gt; int[plus,[mult,2]][path]
==&gt;(8;[plus,16];24)
   &lt;=8[plus,16][path,(_;_)]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Every <code>obj</code> exists as a distinct vertex in the <code>obj</code> graph. If \$b \in \tt{obj}\$ has an incoming edge labeled \$i \in \tt{i\nst}\$, then when applied to the outgoing adjacent vertex \$a\$, \$b\$ is computed. Thus, the edge \$a \to_i b\$ records the instruction and incoming <code>obj</code> (\$a\$) that yielded the <code>obj</code> at the head of the edge (\$b\$). Since types are defined <strong>inductively</strong> and their respective values generated <strong>deductively</strong> via instruction evaluation along the type&#8217;s <strong>path</strong>, the path contains all the information necessary to effect <a href="https://en.wikipedia.org/wiki/State_(computer_science)">state</a>-based computing. The path of an <code>obj</code> is accessed via the <code>[path]</code> instruction. The output of <code>[path]</code> is a <code>;-lst</code>&#8201;&#8212;&#8201;i.e., an element of the <code>inst</code> <a href="https://en.wikipedia.org/wiki/Syntactic_monoid">syntactic monoid</a>. This path <code>lst</code> is also a <a href="https://en.wikipedia.org/wiki/Product_(category_theory)">product</a> and as such, can be <a href="https://en.wikipedia.org/wiki/Reflection_(computer_programming)">introspected</a> via it&#8217;s projection morphisms (e.g., via <code>[get]</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 8 =&gt; int[plus,1][mult,2][lt,63]                                                           <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;true
mmlang&gt; 8 =&gt; int[plus,1][mult,2][lt,63][path]                                                     <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;(8;[plus,1];9;[mult,2];18;[lt,63];true)
   &lt;=8[plus,1][mult,2][lt,63][path,(_;_)]
mmlang&gt; 8 =&gt; int[plus,1][mult,2][lt,63][path][get,5][get,0]                                       <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;63</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The evaluation of an <code>bool&lt;=int</code> type via 8.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>obj</code> graph path from 8 to <code>[lt,63]</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A projection of the instruction <code>[lt,63]</code> from the path and then the first argument of the <code>inst</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>mm-ADT&#8217;s <strong>multiple identity instructions</strong> simply compute the identity function \$f(x) \mapsto x\$, but as edge labels in the <code>obj</code> graph, they store state information that can be later accessed via trace-based path analysis (i.e. via <code>[path]</code>).
In effect, the execution context is transformed from a memory-less <a href="https://en.wikipedia.org/wiki/Finite-state_machine">finite state automata</a> to a <a href="https://en.wikipedia.org/wiki/Processor_register">register</a>-based <a href="https://en.wikipedia.org/wiki/Turing_machine">Turing machine</a>.</p>
</div>
<div class="sect3">
<h4 id="_variables">Variables</h4>
<div class="paragraph">
<p>The <code>[to]</code> instruction&#8217;s type definition is <code>a&lt;=a[to,_]</code>. The argument to <code>[to]</code> is a <strong>named anonymous type</strong>. For every incoming \$a \in \tt{obj}\$, there is an outgoing \$a\$ whose path has been extended with the <code>[to]</code> instruction. An example is provided below.</p>
</div>
<table class="tableblock frame-none grid-none center" style="width: 40%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">_[plus,1][to,x][plus,2][mult,x]</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Suppose <code>int</code> is applied to the above anonymous type. This triggers a cascade of events whereby <code>[plus,1]</code> maps <code>int</code> to <code>int[plus,1]</code>, then <code>[to,x]</code> maps <code>int[plus,1]</code> to <code>int[plus,1][to,x]</code>, and so forth. The resultant compiled <code>int</code>-type can then be evaluated by an <code>int</code> value such as 9. In the commuting diagram below, the top instruction sequence forms a value graph (<strong>evaluation</strong>), the middle sequence a type graph (<strong>compilation</strong>), and the bottom, an <em> un</em>typed graph (<strong>composition</strong>). The union of these graphs via the <a href="https://en.wikipedia.org/wiki/Inclusion_map">inclusion morphism</a> (<code>[type]</code>) is the complete <code>obj</code> graph of the computation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In <code>mmlang</code>, the <code>[to]</code> instruction&#8217;s sugar is <code>&lt; &gt;</code>. It is the only instruction whose sugar is printed as opposed to its <code>[ ]</code> form.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-none grid-none center" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; _   =&gt; [plus,1]&lt;x&gt;[plus,2][mult,x]
==&gt;_[plus,1]&lt;x&gt;[plus,2][mult,x]
mmlang&gt; int =&gt; _[plus,1]&lt;x&gt;[plus,2][mult,x]
==&gt;int[plus,1]&lt;x&gt;[plus,2][mult,x]
mmlang&gt; 9   =&gt; int[plus,1]&lt;x&gt;[plus,2][mult,x]
==&gt;120</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="imageblock text-center">
<div class="content">
<img src="./images/obj/linear-variable-example.svg" alt="linear variable example" width="600">
</div>
</div>
<div class="imageblock right text-center">
<div class="content">
<img src="./images/obj/linear-variable-example-2.svg" alt="linear variable example 2" width="350">
</div>
</div>
<div class="paragraph">
<p>The primary idea concerning variable state is that when <code>[mult,x]</code> is reached by the <code>int</code> value 12 via instruction application, the anonymous type <code>x</code>  must be <strong>resolved</strong> before <code>[mult]</code> can evaluate. To do so, the instruction <code>[to,x]</code> is searched for in the path history of 12. When that instruction is found, the range (or domain as it&#8217;s an identity) replaces <code>x</code> and <code>[mult,10]</code> is evaluated and the edge \[12 \rightarrow_{\texttt{[mult,10]}} 120 \] extends the value graph. The intuition for this process is illustrated on the right.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 9 =&gt; int[plus,1]&lt;x&gt;[plus,2][mult,x][path]                                                 <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;(9;[plus,1];10;&lt;x&gt;;10;[plus,2];12;[mult,10];120)
   &lt;=9[plus,1]&lt;x&gt;[plus,2][mult,10][path,(_;_)]
mmlang&gt; int[plus,1]&lt;x&gt;[plus,2][mult,x][explain]                                                   <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;'
int[plus,1]&lt;x&gt;[plus,2][mult,x]

inst        domain      range state
------------------------------------
[plus,1]    int    =&gt;   int
[plus,2]    int    =&gt;   int    x-&gt;int
[mult,x]    int    =&gt;   int    x-&gt;int
'</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>[path]</code> instruction provides the path of the current <code>obj</code> as a <code>;-lst</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>[explain]</code> instruction details the scope of state variables.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The variable&#8217;s <a href="https://en.wikipedia.org/wiki/Scope_(computer_science)">scope</a> starts at <code>[to]</code> and ends when there is no longer a path to <code>[to]</code>. If an <code>inst</code> argument is a type (e.g. <code>[mult,[plus,x]]</code>), then the <strong>child type</strong> (<code>[plus,x]</code>) path extends the <strong>parent type</strong> (<code>[mult]</code>) path. As such, the child type has access to the variables declared in the parent composition up to the <code>inst</code> containing the child type (<code>[mult]</code>). Finally, if <code>[to,x]</code> is evaluated and later along that path <code>[to,x]</code> is evaluated again, all subsequent types will resolve <code>x</code> at the latter <code>[to,x]</code> instruction. That is, the graph search halts at the first encounter of <code>[to,x]</code>&#8201;&#8212;&#8201;the <a href="https://en.wikipedia.org/wiki/Shortest_path_problem">shortest path</a> to a declaration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 2 =&gt; int&lt;x&gt;[plus,&lt;y&gt;][plus,y]                                                             <i class="conum" data-value="1"></i><b>(1)</b>
language error: 4 does not contain the label 'y'
mmlang&gt; 2 =&gt; int&lt;x&gt;[plus,[plus,x]&lt;x&gt;[plus,x]][plus,x]                                             <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;12
mmlang&gt; 2 =&gt; int&lt;x&gt;[plus,[plus,x]&lt;x&gt;[plus,x]][plus,x][path]                                       <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;(2;&lt;x&gt;;2;[plus,8];10;[plus,2];12)
   &lt;=2&lt;x&gt;[plus,8][plus,2][path,(_;_)]
mmlang&gt; int&lt;x&gt;[plus,int&lt;y&gt;[plus,int&lt;z&gt;[plus,x][plus,y][plus,z]][plus,y]][plus,x][explain]         <i class="conum" data-value="4"></i><b>(4)</b>
==&gt;'
int&lt;x&gt;[plus,int&lt;y&gt;[plus,int&lt;z&gt;[plus,x][plus,y][plus,z]][plus,y]][plus,x]

inst                                           domain      range state
-----------------------------------------------------------------------
[plus,int&lt;y&gt;[plus,int&lt;z&gt;[plus,x][plus,y]...    int    =&gt;   int    x-&gt;int
 [plus,int&lt;z&gt;[plus,x][plus,y][plus,z]]          int   =&gt;    int   x-&gt;int y-&gt;int
  [plus,x]                                       int  =&gt;     int  x-&gt;int y-&gt;int z-&gt;int
  [plus,y]                                       int  =&gt;     int  x-&gt;int y-&gt;int z-&gt;int
  [plus,z]                                       int  =&gt;     int  x-&gt;int y-&gt;int z-&gt;int
 [plus,y]                                       int   =&gt;    int   x-&gt;int y-&gt;int
[plus,x]                                       int    =&gt;   int    x-&gt;int
'</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The variable <code>y</code> is declared in a branch nested within the retrieving branch.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The variable <code>x</code> is redefined in the nested branch and recovers its original value when the nested branch completes.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The value path of the previous evaluation highlighting that the final <code>[plus,x]</code> resolved to <code>[plus,2]</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>A multi-nested expression demonstrating the creation and destruction of variable scope.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_definitions">Definitions</h4>
<div class="paragraph">
<p>A <strong>type definition</strong> takes one of the two familiar forms
\[
b&#8656;a
\]
or
\[
b:a
\]
where, for the first, \$b\$ is <em>generated</em> by \$a\$ and for the second, \$b\$ is <em>structured</em> as \$a\$ and, when considering no extending instructions to the \$b&#8656;a\$ form, \$b&#8656;a \cong b:a\$ such that \$a\$ is <em>named</em> \$b\$. For most of the documentation, the examples have been presented solely from within the <code>mm</code> model-ADT where there are 6 types: <code>bool</code>, <code>int</code>, <code>real</code>, <code>str</code>, <code>lst</code>, and <code>rec</code> along with their respective instructions. It is possible to extend <code>mm</code> with new types that are ultimately <em>grounded</em> (Cayley rooted) in the <code>mm</code> model-ADT types. This is the purpose of the <code>[define]</code> instruction which will now be explained by way of example.</p>
</div>
<div class="paragraph">
<p>The natural numbers (\$\mathbb{N}\$) are a <a href="https://en.wikipedia.org/wiki/Refinement_type">refinement</a> of the set of integers (\$\mathbb{Z}\$), where \$\mathbb{N} \subset \mathbb{Z}\$. In <a href="https://en.wikipedia.org/wiki/Set-builder_notation#Sets_defined_by_a_predicate">set builder notation</a>, specifying the set of integers and a predicate to limit the set to only those integers greater than 0 is denoted
\[
\mathbb{N} = \{n \in \mathbb{Z} \;|\; n &gt; 0\}.
\]
In mm-ADT, <code>int</code> is a <code>nat</code> (\$\mathbb{N}\$) if there is a <strong>path</strong> through the type graph from the <code>int</code> to <code>nat</code>. These paths are <strong>type definitions</strong>. In the example below, <code>[define]</code> creates a path from at <code>int</code> to <code>nat</code> via the instruction <code>[is&gt;0]</code>.</p>
</div>
<table class="tableblock frame-none grid-none center" style="width: 25%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">[define,nat&lt;=int[is&gt;0]]</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A <code>nat</code> is any <code>int</code> that arrives at <code>nat</code> via <code>nat&lt;=int[is&gt;0]</code>. Given this definition (and this definition only), <code>nat</code> is a <em>refinement</em> of <code>int</code> because only 50% of <code>ints</code> successfully reach <code>nat</code>. However, there may be other paths to <code>nat</code> from other types and as such, <a href="https://en.wikipedia.org/wiki/Refinement_type">type refinement</a> is a relative concept in mm-ADT. In isolation, <code>nat</code> is only a character label (called a <strong>name</strong>) attached to a vertex in the <code>obj</code> graph. There is no other structure to a isolated type. The nature of a type is completely determined by the paths incoming and outgoing from it. In this <a href="https://en.wikipedia.org/wiki/Graph_theory">graph-based interpretation</a> of types, a type can be the source or target of any number of paths and it is through navigating these paths that values at a type are morphed into values at other types, where mm-ADT instructions (<code>inst</code>) specify, step-by-step, the way in which the morphing process is to be carried out.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 36 =&gt; int[define,nat&lt;=int[is&gt;0]]                   <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;36
mmlang&gt; 36 =&gt; nat&lt;=int[define,nat&lt;=int[is&gt;0]]              <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;nat:36
mmlang&gt; 36 =&gt; nat&lt;=int[define,nat&lt;=int[is&gt;0]][mult,-1]     <i class="conum" data-value="3"></i><b>(3)</b>
language error: -36 is not a nat</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A <code>nat</code> is defined, but never applied. Thus, logically, this is equivalent to <code>36 =&gt; int</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A type can be used anytime after its definition in the path. Thus, <code>nat</code> is a viable range type.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>If the <code>obj</code> is not a <code>nat</code>, then the larger <code>nat&lt;=int</code> is invalid.</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Deep Dive 3. mm-ADT Type Prefix</div>
<div class="content">
<table class="tableblock frame-none grid-none right" style="width: 50%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,mm][define,nat&lt;=int[is&gt;0]]
==&gt;_[define,nat&lt;=int[is,bool&lt;=int[gt,0]]]
mmlang&gt; 10 =&gt; nat
==&gt;nat:10
mmlang&gt; -1 =&gt; nat
language error: -1 is not a nat
mmlang&gt; 10 =&gt; nat[plus,5]
==&gt;nat:15
mmlang&gt; 10 =&gt; nat[plus,5][plus,-15]
language error: 0 is not a nat</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Prepending type definitions to every program reduces legibility and complicates program development. For this reason, mm-ADT provides a <strong>type prefix</strong>. All <code>mmlang</code> examples that start with <code>:</code> are defining <em>the</em> type prefix that will be used for all subsequent programs. The type prefix is a generalization of a <a href="https://en.wikipedia.org/wiki/Comparison_of_programming_languages_(syntax)#Libraries">library statement</a> such as <code>import</code> or <code>module</code> found in other programming languages. The generalization is that a type prefix can be any type, not just those containing only <code>[define]</code>). The type prefix is prepended to the program type prior to compilation, where this operation is made sound by the free <code>inst</code> monoid.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The example below defines a <code>date</code> to be a <code>;-lst</code> with 2 or 3 <code>nats</code>. If the <code>;-lst</code> contains only 2 terms, then a default value of 2020 is provided. This highlights an important aspect of mm-ADT&#8217;s type system. Variables, types, and rewrites are all <em>graph search processes</em>. A defined type (path) with a desired <strong>range</strong> is searched for in the <code>obj</code> graph and returned if and only if the morphing <code>obj</code> matches the defined type&#8217;s <strong>domain</strong>. Type definitions are simply other types that specify the means by which one type is translated into another type.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./images/obj/date-example.svg" alt="date example">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,mm][define,nat&lt;=int[is&gt;0],
                           date&lt;=(nat[is=&lt;12];nat[is=&lt;31];nat),
                           date&lt;=(nat[is=&lt;12];nat[is=&lt;31])[put,2,2020]]
mmlang&gt;
mmlang&gt; (8;26;2020) =&gt; date
==&gt;date:(nat:8;nat:26;nat:2020)
mmlang&gt; (8;26)      =&gt; date
==&gt;date:(nat:8;nat:26;nat:2020)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Defining types with <code>[define]</code> is useful for <em>in situ</em> definitions that are only require through the scope of the definition (typically within nested types). For reusing types across mm-ADT programs, mm-ADT offers <em>models</em> and the <code>[model]</code> instruction.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_models">Models</h3>
<div class="sidebarblock">
<div class="content">
<div class="title">Homotopy Type Theory</div>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Homotopy_type_theory">Homotopy type theory</a> understands types as coexisting with other types in a <a href="https://en.wikipedia.org/wiki/Topology">topological</a> space. A spatial embedding implies that a type can be reached from another type by moving through space. The way in which the space is navigated is via paths. A path is a continuous deformations of one type into another type.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Types can be organized into <strong>model-ADTs</strong> (simply called <strong>models</strong>). The 4 <em>mono</em> types (<code>bool</code>,<code>int</code>,<code>real</code>,<code>str</code>) and the 2 <em>poly</em> types (<code>lst</code>, <code>rec</code>) are defined in the <code>mm</code> model-ADT (the <em>mm</em> of <em>mm</em>-ADT). The instruction <code>[model,mm]</code> generates a <code>rec</code> from the <code>mmlang</code> file <code>mm.mm</code>. Using the same multiplicity of identities principle, the <code>rec</code> is accessible in the type&#8217;s path definition via the <code>[model]</code> argument.</p>
</div>
<table class="tableblock frame-all grid-all center" style="width: 90%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">mm:(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">type</span><span style="color:#710">'</span></span> -&gt;
  (<span style="color:#369;font-weight:bold">bool</span> -&gt;  ( ), <span style="color:#369;font-weight:bold">int</span> -&gt;  ( ), real -&gt; ( ),
   <span style="color:#369;font-weight:bold">str</span>  -&gt;  ( ), lst  -&gt; ( ), rec -&gt;  ( ),
   poly -&gt;  (poly&lt;=[lst|rec]),
))</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><span class="image"><img src="./images/obj/mm-model.svg" alt="mm model" width="340"></span></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>rec</code> encoding of a model-ADT has the model&#8217;s canonical types (<strong>ctypes</strong>) as keys and <code>lsts</code> of derived types (<strong>dtypes</strong>) as values. The encoding is a serialization of a graph where the ctypes are vertices and the incoming paths to a ctype vertex are the edges. Unfortunately, the <code>mm</code> model is too basic to demonstrate this point clearly. What <code>mm</code> does capture is the set nature of the base types in that there are vertices and no edges (save <code>poly</code> which is the <a href="https://en.wikipedia.org/wiki/Coproduct">coproduct</a> of <code>lst</code> and <code>rec</code>).</p>
</div>
<div class="paragraph">
<p>In general, any model \$\mathbf{m}\$ is defined
\[
\begin{split}
\texttt{model}_\mathbf{m} &amp;= \coprod_{i=0}^{|\mathbf{m}|} \texttt{ctype}_i + (\texttt{dtype}_i^0 + \texttt{dtype}_i^1 + \ldots + \texttt{dtype}_i^n) \\
&amp;= \coprod_{i=0}^{|\mathbf{m}|} \texttt{ctype}_i + \coprod_{j=0}^{|\texttt{dtype}_i|} \texttt{dtype}_i^j.
\end{split}
\]
There are more ctypes than the 6 <a href="https://en.wikipedia.org/wiki/Primitive_data_type">base types</a> specified in <code>mm</code>. Typically, a ctype in one model is a dtype in another. If model \$\mathbf{m}\$ has \$\tt{ctypes}_\mathbf{m}\$ derived from types in model \$\mathbf{n}\$, then \$\tt{dtypes}_{\mathbf{n}} \subseteq \tt{ctypes}_{\mathbf{m}}\$. However, <code>mm</code> is unique in that the <code>mm</code> types are <em>universally grounded</em> and
\[
\begin{split}
\textbf{mm} &amp;= \coprod_{i=0}^6 \texttt{ctype}_i + \mathbf{0}_i \\
&amp;= \coprod_{i=0}^6 \texttt{ctype}_i \\
&amp;= (\texttt{bool} + \texttt{int} + \texttt{real} + \texttt{str} + \texttt{lst} + \texttt{rec})
\end{split}
\]</p>
</div>
<div class="paragraph">
<p>That is, <code>mm</code> is the sum of 6 ctypes&#8201;&#8212;&#8201;the mm-ADT base types. Within <code>mm</code>, these ctypes are <a href="https://en.wikipedia.org/wiki/Identity_function">identity types</a>. For example, in the <code>mm</code> model <code>rec</code> at the beginning of this section, the field <code>bool -&gt; ( )</code> denotes \$\tt{bo\ol} \+ \mathbf{0}\$ or simply \$\tt{bo\ol}\$. The <code>bool</code> ctype is shorthand for <code>bool&lt;=bool</code>, which, when considering the quantifier ring, is shorthand for <code>bool{1}&lt;=bool{1}</code>. An instruction less type is a <a href="https://en.wikipedia.org/wiki/NOP_(code)"><code>noop</code></a> and thus, <code>bool</code> captures the <a href="https://en.wikipedia.org/wiki/Reflexive_relation">reflexivity</a> of identity:
\[
\texttt{bool}\Leftarrow\texttt{bool} \;\equiv\; \texttt{bool} + \mathbf{0} \;\equiv\; \texttt{bool}.
\]</p>
</div>
<div class="exampleblock">
<div class="title">Deep Dive 4. Model-ADT Subgraphs of the <code>obj</code> Graph</div>
<div class="content">
<div class="imageblock right">
<div class="content">
<img src="./images/obj/model-adt.svg" alt="model adt" width="450">
</div>
</div>
<div class="paragraph">
<p>The associated illustration presents 3 models, their respective ctypes, and various dtypes between them. Every directed labeled binary edge in the diagram is a type of the form:</p>
</div>
<table class="tableblock frame-none grid-none center" style="width: 20%;">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">b&lt;=a[inst{*}]</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>A type definition&#8217;s instructions specify the specific, <a href="https://en.wikipedia.org/wiki/Discrete_system">discrete</a> computational steps (<code>inst</code>) necessary to transform <code>a</code> (domain) into <code>b</code> (range). A series of instructions are constructed with <a href="https://en.wikipedia.org/wiki/Inductive_type">type induction</a> (composition), destructed with <a href="https://en.wikipedia.org/wiki/Type_inference">type deduction</a> (compilation or evaluation), and are captured as paths in the type subgraph of the <code>obj</code> graph. Thse paths are equivalent to the morphisms of the <code>obj</code> <a href="https://en.wikipedia.org/wiki/Diagram_(category_theory)">category diagram</a> and the edges in the <code>obj</code> <a href="https://en.wikipedia.org/wiki/Cayley_graph">Cayley graph</a>. The illustration highlights three sorts of types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>xtype&lt;=int[f]</code> (<strong>intra-model</strong>): In <code>xmodel</code>, <code>xtype</code> is grounded at <code>int</code> in <code>mm</code>.</p>
</li>
<li>
<p><code>ytype&lt;=xtype[g]</code> (<strong>inter-model</strong>): In <code>xmodel</code>, <code>ytype</code> can be reached via <code>xtype</code>.</p>
</li>
<li>
<p><code>atype&lt;=rec[h][i]</code> (<strong>trans-model</strong>): In <code>amodel</code>, <code>atype</code> is grounded at <code>rec</code> in <code>mm</code> via <code>ytype</code> in <code>xmodel</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>mm</code> model-ADT is too simple to be informative. The complexity of its types exist outside the virtual machine. In order to provide a comprehensive understanding of mm-ADT models, the following sections will build a <strong>property graph</strong> model-ADT (<code>pg</code>) in stages starting with <code>pg_1</code>, then <code>pg_2</code>, so forth before reaching the final complete encoding in <code>pg</code>.</p>
</div>
<div class="sect3">
<h4 id="_constructors">Constructors</h4>
<h5 id="_property_graph_model_1" class="discrete">Property Graph Model 1</h5>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Graph_theory">Graph theory</a> acknowledges a variety of graph structures. One such structure is the <strong>property graph</strong>. The more descriptive, yet significantly longer name is the <em><a href="https://en.wikipedia.org/wiki/Directed_graph">directed</a>, attributed, <a href="https://en.wikipedia.org/wiki/Multigraph">multi-relational</a> binary graph</em>. The breadth of features will ultimately be captured in <code>pg</code>. The reduced <code>pg_1</code> model only defines a <em>directed binary graph</em>. In <code>pg_1</code>, a <code>vertex</code> can be derived from a <code>rec</code> with an <code>'id'-&gt;int</code> field. An edge can be derived from a <code>rec</code> with an outgoing/start <code>vertex</code> (<code>outV</code>) and an incoming/end <code>vertex</code> (<code>inV</code>). The associated diagram graphically captures the <code>pg_1</code> structure, where the <code>.</code> prefixes on the <code>inst</code> morphisms denote the <code>mmlang</code> sugar notation for <code>[get]</code>&#8201;&#8212;&#8201;e.g., <code>.outV</code> is sugar for <code>[get,'outV']</code>.</p>
</div>
<table class="tableblock frame-none grid-none stretch center">
<colgroup>
<col style="width: 64.7058%;">
<col style="width: 35.2942%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">pg_1:(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">type</span><span style="color:#710">'</span></span> -&gt; (
  vertex -&gt; (vertex&lt;=(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">id</span><span style="color:#710">'</span></span>-&gt;<span style="color:#369;font-weight:bold">int</span>)),
  edge   -&gt; ( edge&lt;=(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">outV</span><span style="color:#710">'</span></span>-&gt;vertex,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">inV</span><span style="color:#710">'</span></span>-&gt;vertex)))) &lt;= mm</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="image"><img src="./images/obj/pg_1-model.svg" alt="pg 1 model"></span></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
A type definition with no instructions serves as both a model constructor and canonical type (a ctype). As a canonical type, the path from source to target does nothing. An <code>obj</code> that matches the left-hand side is simply labeled with the name of the <code>obj</code> on right-hand side.
\[
\tt{(id&#8594;int)}\;\;\tt{\textrm{—[noop]}{\longrightarrow}}\;\;\tt{vertex}.
\]
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Three examples of <a href="https://en.wikipedia.org/wiki/Constructor_(object-oriented_programming)">constructing</a> a <code>vertex</code> are presented below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,pg_1]                                <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;_
mmlang&gt; ('id'-&gt;1) =&gt; vertex                          <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;vertex:('id'-&gt;1)
mmlang&gt; ('id'-&gt;1,'age'-&gt;28) =&gt; vertex                <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;vertex:('id'-&gt;1)
mmlang&gt; ('ID'-&gt;1) =&gt; vertex                          <i class="conum" data-value="4"></i><b>(4)</b>
language error: ('ID'-&gt;1) is not a vertex</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The type prefix loads the <code>pg_1</code> model into the <code>obj</code> graph.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A <code>vertex</code> from a <code>rec</code> with the requisite <code>'id'</code> field.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Extraneous (non-ambiguous) in the <code>vertex</code> instance is mapped to the terminal \$\mathbf{0}\$.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Coercion to a <code>vertex</code> is not possible given as <code>'ID'</code> is not <code>'id'</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Three <code>edge</code> construction examples are presented below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,pg_1]
==&gt;_
mmlang&gt; ('outV'-&gt;vertex:('id'-&gt;1),'inV'-&gt;vertex:('id'-&gt;2)) =&gt; edge     <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;edge:('outV'-&gt;vertex:('id'-&gt;1),'inV'-&gt;vertex:('id'-&gt;2))
mmlang&gt; ('outV'-&gt;('id'-&gt;1),'inV'-&gt;('id'-&gt;2)) =&gt; edge                   <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;edge:('outV'-&gt;vertex:('id'-&gt;1),'inV'-&gt;vertex:('id'-&gt;2))
mmlang&gt; (vertex:('id'-&gt;1);vertex:('id'-&gt;2)) =&gt; edge                    <i class="conum" data-value="3"></i><b>(3)</b>
language error: (vertex:('id'-&gt;1);vertex:('id'-&gt;2)) is not an edge</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An <code>edge</code> is the <code>rec</code> product of two <code>vertices</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>If the components of the product can be coerced into vertices, they are automatically done so.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A <code>lst</code> product is not the same as a <code>rec</code> product given that <code>recs</code> are products of key/value pairs.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_type_paths">Type Paths</h4>
<h5 id="_property_graph_model_2" class="discrete">Property Graph Model 2</h5>
<div class="paragraph">
<p>In the previous <code>pg_1</code> model, a <code>vertex</code> (<code>edge</code>) was constructed using a <code>rec</code> with the requisite component structure. After validating the structural type of <code>rec</code>, the <code>rec</code> is labeled <code>vertex</code> (<code>edge</code>). There are situations in which the <em>source</em> <code>obj</code> has a significantly different absolute structure than the <em>target</em> <code>obj</code>. The ways in which an <code>obj</code> can be constructed are categorized in the table below where <strong>inline</strong> is for one time use, <strong>define</strong> for repeated use in a program, and <strong>model</strong> for reuse across programs.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 90%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">inline</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,pg_1]
==&gt;_
mmlang&gt; 1 =&gt; vertex&lt;=int-&lt;('id'-&gt;_)
==&gt;vertex:('id'-&gt;1)</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">define</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,pg_1][define,vertex&lt;=int-&lt;('id'-&gt;_)]
==&gt;_[define,vertex&lt;=int[split,('id'-&gt;int)]]
mmlang&gt; 5 =&gt; vertex
==&gt;vertex:('id'-&gt;5)
mmlang&gt; (5;6) =&gt; (vertex;vertex)
==&gt;(vertex:('id'-&gt;5);vertex:('id'-&gt;6))</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<th class="tableblock halign-center valign-middle"><p class="tableblock">model</p></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">pg_2:(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">type</span><span style="color:#710">'</span></span> -&gt; (
  vertex -&gt; (vertex&lt;=(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">id</span><span style="color:#710">'</span></span>-&gt;<span style="color:#369;font-weight:bold">int</span>),                                       <i class="conum" data-value="1"></i><b>(1)</b>
             vertex&lt;=<span style="color:#369;font-weight:bold">int</span>-&lt;(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">id</span><span style="color:#710">'</span></span>-&gt;_)),                                   <i class="conum" data-value="2"></i><b>(2)</b>
  edge   -&gt; (edge&lt;=(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">outV</span><span style="color:#710">'</span></span>-&gt;vertex,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">inV</span><span style="color:#710">'</span></span>-&gt;vertex),                      <i class="conum" data-value="3"></i><b>(3)</b>
             edge&lt;=(vertex;vertex)-&lt;(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">outV</span><span style="color:#710">'</span></span>-&gt;<span style="color:#60E">.0</span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">inV</span><span style="color:#710">'</span></span>-&gt;<span style="color:#60E">.1</span>)))) &lt;= mm     <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="imageblock text-center">
<div class="content">
<img src="./images/obj/pg_2-model.svg" alt="pg 2 model" width="625">
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>mm</code> specification of a canonical <code>vertex</code> (an <code>inst</code>-less ctype).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A path from an <code>int</code> to a <code>vertex</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>mm</code> specification of a canonical <code>edge</code> (an <code>inst</code>-less ctype).</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>A path from a 2-tuple <code>vertex</code> <code>;-lst</code> to a <code>edge</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An edge can be constructed in a number ways. The constructor below maps an <code>int</code> pair (\$\mathbb{Z} \times \mathbb{Z}\$) to an <code>edge</code> by propagating the pair into the edge product and then constructing vertices for the <code>outV</code> and <code>inV</code> fields. This structure has sufficient information for rendering the final <code>edge</code>. The mm-ADT VM simply names the <code>rec</code> pair elements <code>vertex</code> and the outer <code>rec</code> <code>edge</code> thus completing the transformation of an <code>(int;int)</code> to <code>edge</code> given <code>pg_1</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,pg_2]
==&gt;_
mmlang&gt; (5;6) =&gt; (vertex;vertex)=&gt;edge                                              <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;edge:('outV'-&gt;vertex:('id'-&gt;5),'inV'-&gt;vertex:('id'-&gt;6))
mmlang&gt; (5;6) =&gt; edge&lt;=(vertex;vertex)
==&gt;edge:('outV'-&gt;vertex:('id'-&gt;5),'inV'-&gt;vertex:('id'-&gt;6))
mmlang&gt; (5;6) =&gt; edge                                                               <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;edge:('outV'-&gt;vertex:('id'-&gt;5),'inV'-&gt;vertex:('id'-&gt;6))
mmlang&gt; 5 =&gt; int-&lt;(vertex;vertex) =&gt; edge                                           <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;edge:('outV'-&gt;vertex:('id'-&gt;5),'inV'-&gt;vertex:('id'-&gt;5))
mmlang&gt; 5-&lt;(vertex;vertex)=&gt;edge
==&gt;edge:('outV'-&gt;vertex:('id'-&gt;5),'inV'-&gt;vertex:('id'-&gt;5))</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An <code>int</code> pair morphed into a <code>vertex</code> pair and then into an <code>edge</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>An <code>int</code> pair morphed into an <code>edge</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>An <code>int</code> split into <code>vertex</code> clone pairs and then morphed into a <a href="https://en.wikipedia.org/wiki/Loop_(graph_theory)">self-loop</a> edge.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The final example above demonstrates the use of <code>;-lst</code> as both a <a href="https://en.wikipedia.org/wiki/Coproduct">coproduct</a> and a <a href="https://en.wikipedia.org/wiki/Product_(category_theory)">product</a>&#8201;&#8212;&#8201;i.e., a <a href="https://en.wikipedia.org/wiki/Biproduct">biproduct</a>. The <code>(vertex;vertex)</code> pair is created via a split <code>-&lt;</code> which serves as the coproduct injections \$\iota_0\$ and \$\iota_1\$. From this vertex coproduct, the <code>edge</code> definition projects out each component of via <code>.0</code> (<code>[get,0]</code>) and <code>.1</code> (<code>[get,1]</code>). Thus, the coproduct is also a product. For this reason, the <a href="https://en.wikipedia.org/wiki/Unicode">Unicode</a> character for <a href="https://en.wikipedia.org/wiki/Pi">pi</a> (π) (the conventional symbol for product <a href="https://en.wikipedia.org/wiki/Projection_(mathematics)">projection</a>) serves as another <code>mmlang</code> sugar for <code>[get]</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Deep Dive 5. model-ADT Application Programming Interfaces</div>
<div class="content">
<div class="paragraph">
<p>The software development pattern espoused by mm-ADT is one in which software libraries (<a href="https://en.wikipedia.org/wiki/API">APIs</a>) are large <a href="https://en.wikipedia.org/wiki/Commutative_diagram">commuting diagrams</a> constructed via domain/range concatenation of \$b&#8656;a\$ types. The diagrams are called <strong>models</strong> and are stored in model-ADT files analogous to <code>mm.mm</code>. With a diagram rich in paths, mm-ADT application code will tend towards a <em>look-and-feel</em> similar in form to
\[
a\;{=[} b \Rightarrow c, \; d[x][y][z] \Rightarrow e \Rightarrow f ]\Rightarrow \ldots \dashv z.
\]
where \$d[x][y][z]\$ denotes some intermediate instructions that operate on \$d\$ prior to translating \$d\$ to \$e\$ (i.e., an inline type path) and the connectives that reflect the core operators of the underlying stream ring are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>=&gt;</code>  : multiplicative monoid for serial composition</p>
</li>
<li>
<p><code>=[</code> : additive group for parallel alignment</p>
</li>
<li>
<p><code>=|</code>   : non-commutative group for barrier aggregation</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_stream_paths">Stream Paths</h4>
<h5 id="_property_graph_model_3" class="discrete">Property Graph Model 3</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">pg_3:(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">type</span><span style="color:#710">'</span></span> -&gt; (
  graph  -&gt; (graph&lt;=edge{*}),
  vertex -&gt; (vertex&lt;=(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">id</span><span style="color:#710">'</span></span>-&gt;<span style="color:#369;font-weight:bold">int</span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">label</span><span style="color:#710">'</span></span>-&gt;<span style="color:#369;font-weight:bold">str</span>),
             vertex&lt;=<span style="color:#369;font-weight:bold">int</span>-&lt;(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">id</span><span style="color:#710">'</span></span>-&gt;_,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">label</span><span style="color:#710">'</span></span>-&gt;<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">vertex</span><span style="color:#710">'</span></span>)),
  edge   -&gt; (edge&lt;=(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">outV</span><span style="color:#710">'</span></span>-&gt;vertex,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">label</span><span style="color:#710">'</span></span>-&gt;<span style="color:#369;font-weight:bold">str</span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">inV</span><span style="color:#710">'</span></span>-&gt;vertex),
             edge&lt;=(vertex;vertex)-&lt;(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">outV</span><span style="color:#710">'</span></span>-&gt;<span style="color:#60E">.0</span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">label</span><span style="color:#710">'</span></span>-&gt;<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">edge</span><span style="color:#710">'</span></span>,<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">inV</span><span style="color:#710">'</span></span>-&gt;<span style="color:#60E">.1</span>)))) &lt;= mm</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_higher_order_paths">Higher Order Paths</h4>
<div class="imageblock text-center">
<div class="content">
<img src="./images/obj/type-to-type-type.png" alt="type to type type" width="700">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_type_patterns">Type Patterns</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 64.2858%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">type</th>
<th class="tableblock halign-left valign-top">description</th>
<th class="tableblock halign-left valign-top">mmlang example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Anonymous_function">anonymous</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A type with an unspecified domain.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 5 =&gt; [plus,2]
==&gt;7
mmlang&gt; 5 =&gt; [plus,[plus,2]]
==&gt;12</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Monomial">monomial</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <a href="https://en.wikipedia.org/wiki/Primitive_data_type">primitive type</a> that is a single term and coefficient.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 5   =&gt; int
==&gt;5
mmlang&gt; '5' =&gt; int
language error: str is not an int
mmlang&gt; 5   =&gt; int{10}
language error: int is not an int{10}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Polynomial">polynomial</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <a href="https://en.wikipedia.org/wiki/Composite_data_type">composite type</a> containing a linearly combination of terms and their coefficients.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (+{2}3,+{3}4,+{4}5)
==&gt;(_[plus,3]{2},_[plus,4]{3},_[plus,5]{4})
mmlang&gt; 5-&lt;(+{2}3,+{3}4,+{4}5)
==&gt;(8{2},9{3},10{4})
mmlang&gt; 5-&lt;(+{2}3,+{3}4,+{4}5)&gt;-[sum]
==&gt;83</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Refinement_type">refinement</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A subset of another type.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[define,nat&lt;=int[is&gt;0]]
==&gt;_[define,nat&lt;=int[is,bool&lt;=int[gt,0]]]
mmlang&gt; 5 =&gt; nat
==&gt;nat:5
mmlang&gt; 0 =&gt; nat
language error: 0 is not a nat</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Recursive_data_type">recursive</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A type with components of the same type.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,mm][define,list&lt;=[(_){?}|(_,list)]]
==&gt;_[define,list&lt;=_[(_){?}|(_,list)]]
mmlang&gt; (1)             =&gt; list
==&gt;list:(1)
mmlang&gt; (1,(1))         =&gt; list
==&gt;list:(1,list:(1))
mmlang&gt; (1,(1,(1)))     =&gt; list
==&gt;list:(1,list:(1,list:(1)))
mmlang&gt; (1,(1,(1,(1)))) =&gt; list
==&gt;list:(1,list:(1,list:(1,list:(1))))
mmlang&gt; 1               =&gt; list
language error: 1 is not a list
mmlang&gt; (1,1)           =&gt; list
language error: (1{2}) is not a list</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Dependent_type">dependent</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A type with a definition variable to the incoming <code>obj</code>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; 5 =&gt; [is&gt;int]
mmlang&gt; 5 =&gt; [plus,int]
==&gt;10</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a href="https://en.wikipedia.org/wiki/Category_(mathematics)">model</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A set of types and path equations.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,social:('type'-&gt;
          (person -&gt; (person:('name'-&gt;str,'age'-&gt;nat)),
           nat    -&gt; (nat&lt;=int[is&gt;0])))]
==&gt;_
mmlang&gt; ('name'-&gt;'marko','age'-&gt;0)                =&gt; person
language error: ('name'-&gt;'marko','age'-&gt;0) is not a person
mmlang&gt; ('name'-&gt;'marko','age'-&gt;29)               =&gt; person
==&gt;person:('name'-&gt;'marko','age'-&gt;nat:29)
mmlang&gt; ('name'-&gt;'marko','age'-&gt;29,'alive'-&gt;true) =&gt; person
==&gt;person:('name'-&gt;'marko','age'-&gt;nat:29)</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_refinement_types">Refinement Types</h5>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Refinement_type">Refinement types</a> extend a language&#8217;s base types with <a href="https://en.wikipedia.org/wiki/Predicate_(mathematical_logic)">predicates</a> that further <em>refine</em> (constrain) the base type values. A classic example is the set of natural numbers (\$\mathbb{N}\$) as a refinement of the set of integers (\$\mathbb{Z}\$), where \$\mathbb{N} \subset \mathbb{Z}\$. In <a href="https://en.wikipedia.org/wiki/Set-builder_notation#Sets_defined_by_a_predicate">set builder notation</a>, specifying the set of integers and a predicate to limit the set to only those integers greater than 0 is denoted
\[
\mathbb{N} = \{n \in \mathbb{Z} \;|\; n &gt; 0\}.
\]
In mm-ADT, the above is written <code>int[is&gt;0]</code> which is the sugar form of <code>int{?}&lt;=int[is,[gt,0]]</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,mm][define,nat&lt;=int[is&gt;0]]
==&gt;_[define,nat&lt;=int[is,bool&lt;=int[gt,0]]]
mmlang&gt; 10 =&gt; nat
==&gt;nat:10
mmlang&gt; -1 =&gt; nat
language error: -1 is not a nat
mmlang&gt; 10 =&gt; nat[plus,5]
==&gt;nat:15
mmlang&gt; 10 =&gt; nat[plus,5][plus,-15]
language error: 0 is not a nat</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_dependent_types">Dependent Types</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,mm][define,vec:(lst,int)&lt;=lst-&lt;(_,=(_)&gt;-[count]),
                                  single&lt;=vec:(lst,is&lt;4).0[tail][head],
                                  single&lt;=vec:(lst,is&gt;3).0[head]]
==&gt;_[define,vec&lt;=lst[split,(lst,int&lt;=lst[combine,(_)][merge][count])],single&lt;=vec[get,0,_][tail][head],single&lt;=vec[get,0,_][head]]
mmlang&gt; (1;2;3)   =&gt; vec                                               <i class="conum" data-value="1"></i><b>(1)</b>
==&gt;vec:(((1;2;3),1),2)
mmlang&gt; (1;2;3)   =&gt; vec =&gt; single                                     <i class="conum" data-value="2"></i><b>(2)</b>
==&gt;single:1
mmlang&gt; (1;2;3;4) =&gt; vec                                               <i class="conum" data-value="3"></i><b>(3)</b>
==&gt;vec:(((1;2;3;4),1),2)
mmlang&gt; (1;2;3;4) =&gt; vec =&gt; single                                     <i class="conum" data-value="4"></i><b>(4)</b>
==&gt;single:1</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A <code>;-lst</code> of 3 terms is morphed into a <code>vec</code> using the <code>vec&lt;=lst</code> type.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>vec</code> is morphed into a <code>single</code> using the first <code>single&lt;=vec</code> type.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A <code>;-lst</code> of 4 terms is morphed into a <code>vec</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>vec</code> is morphed into a <code>single</code> using the second <code>single&lt;=vec</code> type.</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_recursive_types">Recursive Types</h5>
<div class="paragraph">
<p>A recursive type&#8217;s definition contains a reference to itself. Recursive type definitions require a <em>base case</em> to prevent an infinte recursion. Modern programming languages support generic collections, where a list can be defined to contain a particular type. For example, a <code>lst</code> containing only <code>ints</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,mm][define,xlist&lt;=lst[[is,[empty]]|
                                      [[is,[head][a,str]];
                                       [is,[tail][a,xlist]]]]]
==&gt;_[define,xlist&lt;=lst[lst{?}&lt;=lst[is,bool&lt;=lst[empty]]|lst{?}&lt;=lst[lst{?}&lt;=lst[is,bool&lt;=lst[head][a,str]];lst{?}[is,bool{?}&lt;=lst{?}[tail][a,xlist]]]]]
mmlang&gt; ( ) =&gt; [a,xlist]
==&gt;true
mmlang&gt; ('a';'b';'c') =&gt; [a,xlist]
==&gt;true
mmlang&gt; ('a';'b';'c') =&gt; xlist
==&gt;xlist:('a';'b';'c')
mmlang&gt; (1;'a';'c') =&gt; xlist
language error: (1;'a';'c') is not a xlist
mmlang&gt; ('a';'b';'c') =&gt; xlist[put,0,3]
language error: (3;'a';'b';'c') is not a xlist</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; :[model,mm][define,ylist&lt;=lst[[is,[empty]]|
                                      [[is,[head][a,str]];
                                       [is,[tail][head][a,int]];
                                       [is,[tail][tail][a,ylist]]]]]
==&gt;_[define,ylist&lt;=lst[lst{?}&lt;=lst[is,bool&lt;=lst[empty]]|lst{?}&lt;=lst[lst{?}&lt;=lst[is,bool&lt;=lst[head][a,str]];lst{?}[is,bool{?}&lt;=lst{?}[tail][head][a,int]];lst{?}[is,bool{?}&lt;=lst{?}[tail][tail][a,ylist]]]]]
mmlang&gt; ( ) =&gt; [a,ylist]
==&gt;true
mmlang&gt; ('a';1;'b';2) =&gt; [a,ylist]
==&gt;true
mmlang&gt; ('a';1;'b';2) =&gt; ylist
==&gt;ylist:('a';1;'b';2)
mmlang&gt; (1;'a';'c') =&gt; ylist
language error: (1;'a';'c') is not a ylist
mmlang&gt; ('a';1;'b';2) =&gt; ylist[put,0,3]
language error: (3;'a';1;'b';2) is not a ylist</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reference">Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_mmlang_grammar">mmlang Grammar</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python">obj   ::= (<span style="color:#369;font-weight:bold">type</span> | value)q
value ::= vbool | vint | vreal | vstr
vbool ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">true</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">false</span><span style="color:#710">'</span></span>
vint  ::= [<span style="color:#00D">1</span>-<span style="color:#00D">9</span>][<span style="color:#00D">0</span>-<span style="color:#00D">9</span>]*
vreal ::= [<span style="color:#00D">0</span>-<span style="color:#00D">9</span>]+<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">.</span><span style="color:#710">'</span></span>[<span style="color:#00D">0</span>-<span style="color:#00D">9</span>]*
vstr  ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">'</span><span style="color:#710">&quot;</span></span> [a-zA-Z]* <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">'</span><span style="color:#710">&quot;</span></span>
<span style="color:#369;font-weight:bold">type</span>  ::= ctype | dtype
ctype ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">bool</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">int</span><span style="color:#710">'</span></span>  | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">real</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">str</span><span style="color:#710">'</span></span> | poly | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">_</span><span style="color:#710">'</span></span>
poly  ::= lst | rec | inst
q     ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">{</span><span style="color:#710">'</span></span> <span style="color:#369;font-weight:bold">int</span> (<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">,</span><span style="color:#710">'</span></span> <span style="color:#369;font-weight:bold">int</span>)<span style="color:#F00;background-color:#FAA">?</span> <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">}</span><span style="color:#710">'</span></span>
dtype ::= ctype q<span style="color:#F00;background-color:#FAA">?</span> (<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">&lt;=</span><span style="color:#710">'</span></span> ctype q<span style="color:#F00;background-color:#FAA">?</span>)<span style="color:#F00;background-color:#FAA">?</span> inst*
sep   ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">;</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">,</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">|</span><span style="color:#710">'</span></span>
lst   ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">(</span><span style="color:#710">'</span></span> obj (sep obj)* <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">)</span><span style="color:#710">'</span></span> q<span style="color:#F00;background-color:#FAA">?</span>
rec   ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">(</span><span style="color:#710">'</span></span> obj <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">-&gt;</span><span style="color:#710">'</span></span> obj (sep obj <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">-&gt;</span><span style="color:#710">'</span></span> obj)* <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">)</span><span style="color:#710">'</span></span> q<span style="color:#F00;background-color:#FAA">?</span>
inst  ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">[</span><span style="color:#710">'</span></span> op(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">,</span><span style="color:#710">'</span></span>obj)* <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">]</span><span style="color:#710">'</span></span> q<span style="color:#F00;background-color:#FAA">?</span>
op    ::= <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">a</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">add</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">and</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">as</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">combine</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">count</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">eq</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">error</span><span style="color:#710">'</span></span> |
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">explain</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">fold</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">from</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">get</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">given</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">groupCount</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">gt</span><span style="color:#710">'</span></span> |
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">gte</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">head</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">id</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">is</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">last</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">lt</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">lte</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">map</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">merge</span><span style="color:#710">'</span></span> |
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">mult</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">neg</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">noop</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">one</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">or</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">path</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">plus</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">pow</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">put</span><span style="color:#710">'</span></span> |
          <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">q</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">repeat</span><span style="color:#710">'</span></span> |<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">split</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">start</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">tail</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">to</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">trace</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">type</span><span style="color:#710">'</span></span> | <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">zero</span><span style="color:#710">'</span></span></code></pre>
</div>
</div>
<iframe src="images/reference/mmlang-ebnf.html" width="100%" height="1000px"></iframe>
</div>
<div class="sect2">
<h3 id="_instructions">Instructions</h3>
<div class="paragraph">
<p>The mm-ADT VM <a href="https://en.wikipedia.org/wiki/Instruction_set_architecture">instruction set architecture</a> is presented below, where the instructions are ordered by their classification and within each classification, they are ordered alphabetically.</p>
</div>
<div class="sect3">
<h4 id="_branch_instructions">Branch Instructions</h4>
<div class="paragraph">
<p>Branch instructions enable the splitting, composing, and merging of streams. This subset of <code>inst</code> is a particular type of <a href="https://en.wikipedia.org/wiki/Additive_category">additive category</a> called a <a href="https://en.wikipedia.org/wiki/Traced_monoidal_category">traced monoidal category</a>, where <code>[repeat]</code> provides feedback and each instruction&#8217;s <code>poly</code> arguments are  <a href="https://en.wikipedia.org/wiki/Biproduct">biproducts</a> maintaining both injective and projective morphisms. There exists a well-established graphical language for such monoidal categories that has been adopted in <code>mmlang</code> sugar syntax (or as best as can be reasonably captured using <a href="https://en.wikipedia.org/wiki/ASCII">ASCII</a> characters).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 22.2222%;">
<col style="width: 11.1111%;">
<col style="width: 55.5556%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">name</th>
<th class="tableblock halign-center valign-middle">string diagram</th>
<th class="tableblock halign-center valign-middle">sugar</th>
<th class="tableblock halign-left valign-middle">mmlang example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">initial</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><img src="./images/reference/branch-initial.svg" alt="branch initial" width="100"></span></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>A</code></p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int
==&gt;int
mmlang&gt; 6
==&gt;6</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">split</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><img src="./images/reference/branch-split.svg" alt="branch split" width="130"></span></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>-&lt;(A,A)</code></p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int-&lt;(_,_)
==&gt;(int{2}&lt;=int[id]{2})
   &lt;=int[split,(int{2}&lt;=int[id]{2})]
mmlang&gt; 6-&lt;(int,int)
==&gt;(6{2})</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">merge</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><img src="./images/reference/branch-merge.svg" alt="branch merge" width="130"></span></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>(A,A)&gt;-</code></p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; (int,int)&gt;-
==&gt;int{2}&lt;=(int{2}&lt;=int[id]{2})[merge]
mmlang&gt; (6,6)&gt;-
==&gt;6{2}</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">repeat</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><img src="./images/reference/branch-repeat.svg" alt="branch repeat"></span></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>(A)^(A)</code></p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int(+3)^(5)
==&gt;int[repeat,int[plus,3],5]
mmlang&gt; 6(+3)^(5)
==&gt;21</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">terminal</p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><span class="image"><img src="./images/reference/branch-terminal.svg" alt="branch terminal" width="100"></span></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>A{0}</code></p></td>
<td class="tableblock halign-left valign-middle"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mmlang&gt; int{0}
mmlang&gt;
mmlang&gt; 6{0}
mmlang&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5.8823%;">
<col style="width: 52.9411%;">
<col style="width: 41.1766%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">inst</th>
<th class="tableblock halign-left valign-middle">description</th>
<th class="tableblock halign-left valign-top">example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[branch]</code><br>
<code>[ ]</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Juxtapose start across <code>poly</code> terms and then aggregate the terms of the resultant <code>poly</code> as dictated by the <code>polys</code> underlying magma (<a href="https://en.wikipedia.org/wiki/Module_(mathematics)">obj<sub>LR</sub>-module</a>).
\[
x(a_0,a_1,\ldots,a_n) =  \bigodot_{i=0}^{i \leq n} xa_i
\]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 6[branch,(+1,'a',*int)]
==&gt;7
==&gt;'a'
==&gt;36
mm&gt; 6[+1,'a',*int]
==&gt;7
==&gt;'a'
==&gt;36</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[combine]</code><br>
<code>=</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Pairwise juxtapose the terms of two <code>polys</code> (<a href="https://en.wikipedia.org/wiki/Hadamard_product_(matrices)">Hadamard product</a> and <a href="https://en.wikipedia.org/wiki/Polynomial_ring">obj[X</a>]).
\[
(a_0,\ldots,a_n) \circ (b_0,\ldots,b_n) = (a_0b_0,\ldots,a_nb_n)
\]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; (1;2;3)[combine,(+10;+20;+30)]
==&gt;(11;22;33)
mm&gt; (1;2;3)=(+10;+20;+30)
==&gt;(11;22;33)</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[lift]</code><br>
<code>&lt;&lt; &gt;&gt;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Detach from the <code>obj</code> graph and operate stateless.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[merge]</code><br>
<code>&gt;-</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Aggregate the terms of the start <code>poly</code>, where aggregation semantics is determined by the underlying magma of the <code>poly</code> (<a href="https://en.wikipedia.org/wiki/Module_(mathematics)">obj<sub>R</sub>-module</a>).
\[
(a_0,a_1,\ldots,a_n) = \bigodot_{i=0}^{i \leq n} a_i
\]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; (1,2,3)[merge]
==&gt;1
==&gt;2
==&gt;3
mm&gt; (1,2,3)&gt;-
==&gt;1
==&gt;2
==&gt;3
mm&gt; (1;2;3)&gt;-
==&gt;3
mm&gt; (1|2|3)&gt;-
==&gt;1</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[repeat]</code><br>
<code>( )^( )</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Apply the first <code>obj</code> (typically a type) to the incoming <code>obj</code> until the second <code>obj</code> is not <code>{0}</code>. For ease of  use, if the second <code>obj</code> is an <code>int</code> value, then this is interpreted as number of times to iterate.</p>
<p class="tableblock">\[
x(a^n) = x \prod^{i \leq n}_{i=0} a
\]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; [1,2,3][repeat,+2,3]
==&gt;7
==&gt;8
==&gt;9
mm&gt; (1,2,3)&gt;-(+2)^(3)
==&gt;7
==&gt;8
==&gt;9
mm&gt; (1,2,3)&gt;-(*2)^(is&lt;10)
==&gt;16{2}
==&gt;12</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[split]</code><br>
<code>-&lt;</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Juxtapose start across <code>poly</code> terms as a scalar to a vector. <code>[branch]</code> is equivalent to <code>[split][merge]</code> (<a href="https://en.wikipedia.org/wiki/Module_(mathematics)">obj<sub>L</sub>-module</a>).
\[
x(a_0,a_1,\ldots,a_n) = (xa_0,xa_1,\ldots,xa_n)
\]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; 1[split,(+1,+2,+3)]
==&gt;(2,3,4)
mm&gt; 1-&lt;(+2,+3,+4)
==&gt;(3,4,5)
mm&gt; 1-&lt;(+2;+3;+4)
==&gt;(3;6;10)
mm&gt; 1-&lt;(+2|+3|+4)
==&gt;(3)</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[swap]</code><br>
<code>/ /</code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Replace the <code>[swap]</code> type&#8217;s last <code>inst</code> argument with the start and the start with the <code>inst</code> argument (<a href="https://en.wikipedia.org/wiki/Swap_(computer_programming)">swap</a>).
\[
xa = ax
\]</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="mmlang">mm&gt; '-adt'[plus,'mm']
==&gt;'-adtmm'
mm&gt; '-adt'[swap,[plus,'mm']]
==&gt;'mm-adt'
mm&gt; '-adt'+'mm'
==&gt;'-adtmm'
mm&gt; '-adt'/+'mm'/
==&gt;'mm-adt'</code></pre>
</div>
</div>
<div class="paragraph">
<p></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_filter_instructions">Filter Instructions</h4>

</div>
<div class="sect3">
<h4 id="_map_instructions">Map Instructions</h4>

</div>
<div class="sect3">
<h4 id="_reduce_instructions">Reduce Instructions</h4>

</div>
<div class="sect3">
<h4 id="_trace_instructions">Trace Instructions</h4>

</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-09-26 01:38:08 -0600
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>